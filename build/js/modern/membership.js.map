{"version":3,"file":"membership.js","sources":["../../../node_modules/.pnpm/preact@10.7.3/node_modules/preact/dist/preact.mjs","../../../node_modules/.pnpm/mojave@5.20.1/node_modules/mojave/polyfill/dom.js","../../../node_modules/.pnpm/mojave@5.20.1/node_modules/mojave/json.js","../../../node_modules/.pnpm/mojave@5.20.1/node_modules/mojave/dom/css.js","../../../assets/js/membership/Loading.jsx","../../../assets/js/lib/icons.jsx","../../../node_modules/.pnpm/mojave@5.20.1/node_modules/mojave/classes.js","../../../assets/js/membership/Navigation/HorizontalNavigation.jsx","../../../assets/js/membership/Step.jsx","../../../assets/js/lib/price.js","../../../assets/js/membership/Step/Options/OptionsSelection.jsx","../../../assets/js/membership/Step/OptionsStepContent.jsx","../../../assets/js/membership/Step/Runtime/RuntimeDetails.jsx","../../../assets/js/membership/Step/RuntimeStepContent.jsx","../../../assets/js/membership/Step/SuccessStepContent.jsx","../../../node_modules/.pnpm/mojave@5.20.1/node_modules/mojave/date/compare.js","../../../node_modules/.pnpm/mojave@5.20.1/node_modules/mojave/date/format.js","../../../assets/js/lib/date.js","../../../assets/js/membership/Step/UserDataFormStepContent.jsx","../../../assets/js/membership/Step/OverviewStepContent.jsx","../../../node_modules/.pnpm/preact@10.7.3/node_modules/preact/hooks/dist/hooks.mjs","../../../node_modules/.pnpm/mojave@5.20.1/node_modules/mojave/mount/index.js","../../../assets/js/membership.js","../../../assets/js/membership/Membership.jsx","../../../node_modules/.pnpm/mojave@5.20.1/node_modules/mojave/timing.js","../../../node_modules/.pnpm/mojave@5.20.1/node_modules/mojave/dom/traverse.js","../../../node_modules/.pnpm/mojave@5.20.1/node_modules/mojave/extend.js","../../../node_modules/.pnpm/mojave@5.20.1/node_modules/mojave/runtime.js"],"sourcesContent":["var n,l,u,i,t,o,r,f,e={},c=[],s=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function a(n,l){for(var u in l)n[u]=l[u];return n}function h(n){var l=n.parentNode;l&&l.removeChild(n)}function v(l,u,i){var t,o,r,f={};for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return y(l,f,t,o,null)}function y(n,i,t,o,r){var f={type:n,props:i,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++u:r};return null==r&&null!=l.vnode&&l.vnode(f),f}function p(){return{current:null}}function d(n){return n.children}function _(n,l){this.props=n,this.context=l}function k(n,l){if(null==l)return n.__?k(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?k(n):null}function b(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return b(n)}}function m(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!g.__r++||r!==l.debounceRendering)&&((r=l.debounceRendering)||o)(g)}function g(){for(var n;g.__r=t.length;)n=t.sort(function(n,l){return n.__v.__b-l.__v.__b}),t=[],n.some(function(n){var l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],(i=a({},t)).__v=t.__v+1,j(r,t,i,l.__n,void 0!==r.ownerSVGElement,null!=t.__h?[o]:null,u,null==o?k(t):o,t.__h),z(u,t),t.__e!=o&&b(t)))})}function w(n,l,u,i,t,o,r,f,s,a){var h,v,p,_,b,m,g,w=i&&i.__k||c,A=w.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(_=u.__k[h]=null==(_=l[h])||\"boolean\"==typeof _?null:\"string\"==typeof _||\"number\"==typeof _||\"bigint\"==typeof _?y(null,_,null,null,_):Array.isArray(_)?y(d,{children:_},null,null,null):_.__b>0?y(_.type,_.props,_.key,null,_.__v):_)){if(_.__=u,_.__b=u.__b+1,null===(p=w[h])||p&&_.key==p.key&&_.type===p.type)w[h]=void 0;else for(v=0;v<A;v++){if((p=w[v])&&_.key==p.key&&_.type===p.type){w[v]=void 0;break}p=null}j(n,_,p=p||e,t,o,r,f,s,a),b=_.__e,(v=_.ref)&&p.ref!=v&&(g||(g=[]),p.ref&&g.push(p.ref,null,_),g.push(v,_.__c||b,_)),null!=b?(null==m&&(m=b),\"function\"==typeof _.type&&_.__k===p.__k?_.__d=s=x(_,s,n):s=P(n,_,p,w,b,s),\"function\"==typeof u.type&&(u.__d=s)):s&&p.__e==s&&s.parentNode!=n&&(s=k(p))}for(u.__e=m,h=A;h--;)null!=w[h]&&(\"function\"==typeof u.type&&null!=w[h].__e&&w[h].__e==u.__d&&(u.__d=k(i,h+1)),N(w[h],w[h]));if(g)for(h=0;h<g.length;h++)M(g[h],g[++h],g[++h])}function x(n,l,u){for(var i,t=n.__k,o=0;t&&o<t.length;o++)(i=t[o])&&(i.__=n,l=\"function\"==typeof i.type?x(i,l,u):P(u,i,i,t,i.__e,l));return l}function A(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){A(n,l)}):l.push(n)),l}function P(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else{for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,o),r=o}return void 0!==r?r:t.nextSibling}function C(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||H(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||H(n,o,l[o],u[o],i)}function $(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||s.test(l)?u:u+\"px\"}function H(n,l,u,i,t){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||$(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||$(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?T:I,o):n.removeEventListener(l,o?T:I,o);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null!=u&&(!1!==u||\"a\"===l[0]&&\"r\"===l[1])?n.setAttribute(l,u):n.removeAttribute(l))}}function I(n){this.l[n.type+!1](l.event?l.event(n):n)}function T(n){this.l[n.type+!0](l.event?l.event(n):n)}function j(n,u,i,t,o,r,f,e,c){var s,h,v,y,p,k,b,m,g,x,A,P=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(s=l.__b)&&s(u);try{n:if(\"function\"==typeof P){if(m=u.props,g=(s=P.contextType)&&t[s.__c],x=s?g?g.props.value:s.__:t,i.__c?b=(h=u.__c=i.__c).__=h.__E:(\"prototype\"in P&&P.prototype.render?u.__c=h=new P(m,x):(u.__c=h=new _(m,x),h.constructor=P,h.render=O),g&&g.sub(h),h.props=m,h.state||(h.state={}),h.context=x,h.__n=t,v=h.__d=!0,h.__h=[]),null==h.__s&&(h.__s=h.state),null!=P.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=a({},h.__s)),a(h.__s,P.getDerivedStateFromProps(m,h.__s))),y=h.props,p=h.state,v)null==P.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==P.getDerivedStateFromProps&&m!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(m,x),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(m,h.__s,x)||u.__v===i.__v){h.props=m,h.state=h.__s,u.__v!==i.__v&&(h.__d=!1),h.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),h.__h.length&&f.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(m,h.__s,x),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,p,k)})}h.context=x,h.props=m,h.state=h.__s,(s=l.__r)&&s(u),h.__d=!1,h.__v=u,h.__P=n,s=h.render(h.props,h.state,h.context),h.state=h.__s,null!=h.getChildContext&&(t=a(a({},t),h.getChildContext())),v||null==h.getSnapshotBeforeUpdate||(k=h.getSnapshotBeforeUpdate(y,p)),A=null!=s&&s.type===d&&null==s.key?s.props.children:s,w(n,Array.isArray(A)?A:[A],u,i,t,o,r,f,e,c),h.base=u.__e,u.__h=null,h.__h.length&&f.push(h),b&&(h.__E=h.__=null),h.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=L(i.__e,u,i,t,o,r,f,c);(s=l.diffed)&&s(u)}catch(n){u.__v=null,(c||null!=r)&&(u.__e=e,u.__h=!!c,r[r.indexOf(e)]=null),l.__e(n,u,i)}}function z(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function L(l,u,i,t,o,r,f,c){var s,a,v,y=i.props,p=u.props,d=u.type,_=0;if(\"svg\"===d&&(o=!0),null!=r)for(;_<r.length;_++)if((s=r[_])&&\"setAttribute\"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,r[_]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),r=null,c=!1}if(null===d)y===p||c&&l.data===p||(l.data=p);else{if(r=r&&n.call(l.childNodes),a=(y=i.props||e).dangerouslySetInnerHTML,v=p.dangerouslySetInnerHTML,!c){if(null!=r)for(y={},_=0;_<l.attributes.length;_++)y[l.attributes[_].name]=l.attributes[_].value;(v||a)&&(v&&(a&&v.__html==a.__html||v.__html===l.innerHTML)||(l.innerHTML=v&&v.__html||\"\"))}if(C(l,p,y,o,c),v)u.__k=[];else if(_=u.props.children,w(l,Array.isArray(_)?_:[_],u,i,t,o&&\"foreignObject\"!==d,r,f,r?r[0]:i.__k&&k(i,0),c),null!=r)for(_=r.length;_--;)null!=r[_]&&h(r[_]);c||(\"value\"in p&&void 0!==(_=p.value)&&(_!==l.value||\"progress\"===d&&!_||\"option\"===d&&_!==y.value)&&H(l,\"value\",_,y.value,!1),\"checked\"in p&&void 0!==(_=p.checked)&&_!==l.checked&&H(l,\"checked\",_,y.checked,!1))}return l}function M(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function N(n,u,i){var t,o;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||M(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null}if(t=n.__k)for(o=0;o<t.length;o++)t[o]&&N(t[o],u,\"function\"!=typeof n.type);i||null==n.__e||h(n.__e),n.__e=n.__d=void 0}function O(n,l,u){return this.constructor(n,u)}function S(u,i,t){var o,r,f;l.__&&l.__(u,i),r=(o=\"function\"==typeof t)?null:t&&t.__k||i.__k,f=[],j(i,u=(!o&&t||i).__k=v(d,null,[u]),r||e,e,void 0!==i.ownerSVGElement,!o&&t?[t]:r?null:i.firstChild?n.call(i.childNodes):null,f,!o&&t?t:r?r.__e:i.firstChild,o),z(f,u)}function q(n,l){S(n,l,q)}function B(l,u,i){var t,o,r,f=a({},l.props);for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),y(l.type,f,t||l.key,o||l.ref,null)}function D(n,l){var u={__c:l=\"__cC\"+f++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(m)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=c.slice,l={__e:function(n,l,u,i){for(var t,o,r;l=l.__;)if((t=l.__c)&&!t.__)try{if((o=t.constructor)&&null!=o.getDerivedStateFromError&&(t.setState(o.getDerivedStateFromError(n)),r=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),r=t.__d),r)return t.__E=t}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},_.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=a({},this.state),\"function\"==typeof n&&(n=n(a({},u),this.props)),n&&a(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),m(this))},_.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),m(this))},_.prototype.render=d,t=[],o=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,g.__r=0,f=0;export{S as render,q as hydrate,v as createElement,v as h,d as Fragment,p as createRef,i as isValidElement,_ as Component,B as cloneElement,D as createContext,A as toChildArray,l as options};\n//# sourceMappingURL=preact.module.js.map\n","if (!Element.prototype.matches) {\n    const elementPrototype = Element.prototype;\n    Element.prototype.matches =\n        elementPrototype.msMatchesSelector ||\n            elementPrototype.webkitMatchesSelector;\n}\n","export function safeParseJson(value) {\n    if (value) {\n        try {\n            const content = value.trim();\n            return (content !== \"\")\n                ? JSON.parse(content)\n                : null;\n        }\n        catch (e) {\n            console.error(`Could not parse JSON content: ${e.message}`, e);\n        }\n    }\n    return null;\n}\nexport function parseElementAsJson(element) {\n    return null !== element\n        ? safeParseJson((element.textContent || \"\")\n            .replace(/&lt;/g, \"<\")\n            .replace(/&gt;/g, \">\")\n            .replace(/&amp;/g, \"&\"))\n        : null;\n}\n","const CUSTOM_PROPERTY_REGEX = /^--/;\nconst DEFAULT_STYLES = document.createElement(\"div\").style;\nconst VENDOR_PREFIXES = [\"-webkit-\", \"-moz-\", \"-o-\", \"-ms-\"];\nconst propertyNameCache = {};\nconst IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\nconst DIRECTLY_ACCESSIBLE_SETTERS = /scroll(Top|Left)/i;\nconst HAS_PIXELS_UNIT = /px$/;\nfunction normalizeProperty(property) {\n    if (propertyNameCache[property]) {\n        return propertyNameCache[property];\n    }\n    if (property in DEFAULT_STYLES) {\n        return property;\n    }\n    for (let i = 0; i < VENDOR_PREFIXES.length; i++) {\n        const prefixedName = `${VENDOR_PREFIXES[i]}${property}`;\n        if (prefixedName in DEFAULT_STYLES) {\n            propertyNameCache[property] = prefixedName;\n            return prefixedName;\n        }\n    }\n    propertyNameCache[property] = property;\n    return property;\n}\nexport function setStyles(elements, styles) {\n    let styledElements = Array.isArray(elements) ? elements : [elements];\n    for (let i = 0; i < styledElements.length; i++) {\n        let element = styledElements[i];\n        let style = element.style;\n        for (let property in styles) {\n            let value = styles[property];\n            if (DIRECTLY_ACCESSIBLE_SETTERS.test(property)) {\n                element[property] = value;\n                continue;\n            }\n            if (CUSTOM_PROPERTY_REGEX.test(property)) {\n                style.setProperty(property, value);\n                continue;\n            }\n            if (typeof styles[property] === \"number\" && !IS_NON_DIMENSIONAL.test(property)) {\n                value += \"px\";\n            }\n            property = normalizeProperty(property);\n            style[property] = value;\n        }\n    }\n}\nfunction getComputedStyles(element, pseudoElement = null) {\n    let view = null !== element.ownerDocument && element.ownerDocument.defaultView;\n    if (!view || !view.opener) {\n        view = window;\n    }\n    return view.getComputedStyle(element, pseudoElement);\n}\nexport function getStyle(element, property, pseudoElement = null) {\n    let castedElement = element;\n    if (DIRECTLY_ACCESSIBLE_SETTERS.test(property)) {\n        return castedElement[property];\n    }\n    if (!CUSTOM_PROPERTY_REGEX.test(property)) {\n        property = normalizeProperty(property);\n    }\n    const styles = getComputedStyles(castedElement, pseudoElement);\n    const value = styles.getPropertyValue(property) || styles[property];\n    if (\"opacity\" === property) {\n        return value === \"\" ? \"1\" : value;\n    }\n    if (value !== undefined && !IS_NON_DIMENSIONAL.test(property) && HAS_PIXELS_UNIT.test(value)) {\n        return parseInt(value.replace(HAS_PIXELS_UNIT, \"\"), 10);\n    }\n    return value;\n}\nfunction updateDisplay(element, style) {\n    const list = Array.isArray(element) ? element : [element];\n    for (let i = 0; i < list.length; i++) {\n        list[i].style.display = style;\n    }\n}\nexport function hide(element) {\n    updateDisplay(element, \"none\");\n}\nexport function show(element) {\n    updateDisplay(element, \"\");\n}\nexport function position(element) {\n    return {\n        top: element.offsetTop,\n        left: element.offsetLeft,\n    };\n}\nexport function offset(element) {\n    const rect = element.getBoundingClientRect();\n    return {\n        top: rect.top + document.body.scrollTop,\n        left: rect.left + document.body.scrollLeft,\n    };\n}\n","import {Component, h} from \"preact\";\n\n\nexport class Loading extends Component\n{\n\t/**\n\t * @inheritDoc\n\t */\n\trender ()\n\t{\n\t\treturn (\n\t\t\t<p>Lädt...</p>\n\t\t);\n\t}\n}\n","import {h} from \"preact\";\n\nexport const ICON_CHECKBOX = (\n\t<svg class=\"_membership-icon\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n\t\t<path d=\"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\"/>\n\t\t<path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n\t</svg>\n);\n\nexport const ICON_CHEVRON = (\n\t<svg class=\"_membership-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n\t\t<path d=\"M5.88 4.12L13.76 12l-7.88 7.88L8 22l10-10L8 2z\"/>\n\t\t<path fill=\"none\" d=\"M0 0h24v24H0z\"/>\n\t</svg>\n);\n\nexport const ICON_CHECKBOX_CHECKED = (\n\t<svg class=\"_membership-icon\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n\t\t<path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n\t\t<path d=\"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/>\n\t</svg>\n);\n\nexport const ICON_RADIO = (\n\t<svg class=\"_membership-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n\t\t<path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"/>\n\t\t<path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n\t</svg>\n);\n\nexport const ICON_RADIO_CHECKED = (\n\t<svg class=\"_membership-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n\t\t<path d=\"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"/>\n\t\t<path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n\t</svg>\n);\n\nexport const ICON_CHECK = (\n\t<svg class=\"_membership-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n\t\t<path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n\t\t<path d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"/>\n\t</svg>\n);\n","export function classes(...args) {\n    const list = [];\n    for (let i = 0; i < args.length; i++) {\n        const entry = args[i];\n        if (typeof entry === \"string\") {\n            list.push(entry);\n        }\n        else {\n            for (let key in entry) {\n                if (entry[key]) {\n                    list.push(key);\n                }\n            }\n        }\n    }\n    return list.join(\" \");\n}\n","import {Component, h} from \"preact\";\nimport {ICON_CHECKBOX, ICON_CHECKBOX_CHECKED, ICON_CHEVRON} from \"../../lib/icons\";\nimport {classes} from \"mojave/classes\";\n\n\n/**\n * @typedef {{\n *      steps: string[],\n *      activeStep: number,\n *      isDeactivated: boolean,\n *      onDirectSelect: function(number),\n * }} HorizontalNavigation.Props\n *\n * @typedef {{\n * }} HorizontalNavigation.State\n */\nexport class HorizontalNavigation extends Component\n{\n\t/**\n\t * @param {HorizontalNavigation.Props} props\n\t * @param {HorizontalNavigation.State} state\n\t * @returns {null|JSX.Element}\n\t */\n\trender (props, state)\n\t{\n\t\treturn (\n\t\t\t<div class=\"_membership-horizontal-navigation\">\n\t\t\t\t{props.steps.map((label, index) => this.renderButton(label, index + 1))}\n\t\t\t</div>\n\t\t);\n\t}\n\n\n\t/**\n\t * Renders a single button\n\t *\n\t * @private\n\t * @param {string} label\n\t * @param {number} stepNr\n\t * @returns {JSX.Element}\n\t */\n\trenderButton (label, stepNr)\n\t{\n\t\t/** @type {HorizontalNavigation.Props} props */\n\t\tconst props = this.props;\n\t\tconst isSelectable = !props.isDeactivated && (stepNr < props.activeStep);\n\t\tlet icon;\n\n\t\tif (stepNr < props.activeStep)\n\t\t{\n\t\t\ticon = ICON_CHECKBOX_CHECKED;\n\t\t}\n\t\telse if (stepNr === props.activeStep)\n\t\t{\n\t\t\ticon = ICON_CHEVRON;\n\t\t}\n\t\telse\n\t\t{\n\t\t\ticon = ICON_CHECKBOX;\n\t\t}\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tonClick={() => this.onClick(stepNr)}\n\t\t\t\tclass={classes({\n\t\t\t\t\t\"_membership-horizontal-step\": true,\n\t\t\t\t\t\"_membership-is-selectable\": isSelectable,\n\t\t\t\t})}\n\t\t\t>\n\t\t\t\t<span class=\"_membership-horizontal-icon\">{icon}</span>\n\t\t\t\t<span>{label}</span>\n\t\t\t</button>\n\t\t);\n\t}\n\n\n\t/**\n\t * Callback on when a step was clicked\n\t *\n\t * @private\n\t * @param {number} stepNr\n\t */\n\tonClick (stepNr)\n\t{\n\t\t/** @type {HorizontalNavigation.Props} props */\n\t\tconst props = this.props;\n\n\t\tif (!props.isDeactivated && stepNr < props.activeStep)\n\t\t{\n\t\t\tprops.onDirectSelect(stepNr);\n\t\t}\n\t}\n}\n","import $ from \"jquery\";\nimport {Component, h} from \"preact\";\nimport {classes} from \"mojave/classes\";\nimport {ICON_CHECKBOX, ICON_CHECKBOX_CHECKED, ICON_CHEVRON} from \"../lib/icons\";\n\n\n/**\n * @typedef {{\n *      step: number,\n *      activeStep: number,\n *      headline: string,\n *      children: JSX.Element[],\n *      isDeactivated: boolean,\n *      isHeadlineVisible: boolean,\n *      onDirectSelect: ?function(),\n *      onProceed: ?function(),\n * }} Step.Props\n *\n * @typedef {{\n * }} Step.State\n */\nexport class Step extends Component\n{\n\t/**\n\t * @inheritDoc\n\t * @param {Step.Props} nextProps\n\t */\n\tcomponentWillReceiveProps (nextProps)\n\t{\n\t\t/** @type {Step.Props} props */\n\t\tconst props = this.props;\n\n\t\tconst wasActive = props.activeStep === props.step;\n\t\tconst isActive = nextProps.activeStep === nextProps.step;\n\n\t\tif (wasActive !== isActive)\n\t\t{\n\t\t\tlet $base = $(this.base);\n\t\t\tconst $content = $base.find(\"._membership-step-content\");\n\t\t\tlet method;\n\n\t\t\t// with vertical navigation, use slide down / in\n\t\t\tif (props.isHeadlineVisible)\n\t\t\t{\n\t\t\t\tmethod = isActive ? \"slideDown\" : \"slideUp\";\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tmethod = isActive ? \"show\" : \"hide\";\n\t\t\t}\n\n\t\t\t$content.stop(true)[method]();\n\n\t\t\tif (isActive)\n\t\t\t{\n\t\t\t\tlet $scrollTarget;\n\n\t\t\t\tif (!props.isHeadlineVisible)\n\t\t\t\t{\n\t\t\t\t\t// with horizontal navigation, just scroll up all the way\n\t\t\t\t\t$scrollTarget = $base.closest(\"._membership\");\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t$scrollTarget = $base.prev().length === 1\n\t\t\t\t\t\t? $base.prev()\n\t\t\t\t\t\t: $base;\n\t\t\t\t}\n\n\t\t\t\t// scroll to the top of the new step\n\t\t\t\t$(window).animate({\n\t\t\t\t\tscrollTop: $scrollTarget.offset().top - 30,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\n\t/**\n\t * @inheritDoc\n\t * @param {Step.Props} props\n\t * @param {Step.State} state\n\t * @returns {JSX.Element}\n\t */\n\trender (props, state)\n\t{\n\t\tconst isSelectable = !props.isDeactivated && (props.step < props.activeStep);\n\t\tlet icon;\n\n\t\tif (props.step < props.activeStep)\n\t\t{\n\t\t\ticon = ICON_CHECKBOX_CHECKED;\n\t\t}\n\t\telse if (props.step === props.activeStep)\n\t\t{\n\t\t\ticon = ICON_CHEVRON;\n\t\t}\n\t\telse\n\t\t{\n\t\t\ticon = ICON_CHECKBOX;\n\t\t}\n\n\t\treturn (\n\t\t\t<div class={classes({\n\t\t\t\t\"_membership-step\": true,\n\t\t\t\t// show first by default, the other ones are shown via transitions\n\t\t\t\t\"_membership-is-active\": props.step === 1,\n\t\t\t\t\"_membership-is-selectable\": isSelectable,\n\t\t\t})}\n\t\t\t>\n\t\t\t\t{props.isHeadlineVisible && (\n\t\t\t\t\t<div class=\"_membership-step-headline\" onClick={() => this.onHeadlineClick(isSelectable)}>\n\t\t\t\t\t\t<span class=\"_membership-headline-icon\">{icon}</span>\n\t\t\t\t\t\t<span>{`Schritt ${props.step}: ${props.headline}`}</span>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t<div class=\"_membership-step-content\">\n\t\t\t\t\t{props.children}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\n\t/**\n\t * @private\n\t * @param {boolean} isSelectable\n\t */\n\tonHeadlineClick (isSelectable)\n\t{\n\t\tif (isSelectable && typeof this.props.onDirectSelect === \"function\")\n\t\t{\n\t\t\tthis.props.onDirectSelect();\n\t\t}\n\t}\n}\n","// all values are normalized to days, a month has 31 days\nexport const DAYS_PER_MONTH = 31;\nexport const EVERY_WEEK = 7;\nexport const EVERY_2_WEEKS = 14;\nexport const EVERY_4_WEEKS = 28;\nexport const EVERY_MONTH = DAYS_PER_MONTH;\nexport const EVERY_3_MONTHS = 3 * DAYS_PER_MONTH;\nexport const EVERY_6_MONTHS = 6 * DAYS_PER_MONTH;\nexport const EVERY_12_MONTHS = 12 * DAYS_PER_MONTH;\n\n/**\n * Formats the given amount as price\n *\n * @param {number} amount\n * @returns {string}\n */\nexport function formatAmount (amount)\n{\n\tlet cents = \"\" + (amount % 100);\n\n\tif (cents.length === 1)\n\t{\n\t\tcents = `0${cents}`;\n\t}\n\n\treturn `${Math.floor(amount / 100)},${cents} €`;\n}\n\n/**\n * Formats the interval\n *\n * @param {number} interval\n * @returns {string}\n */\nexport function formatInterval (interval)\n{\n\tswitch (interval)\n\t{\n\tcase EVERY_WEEK:\n\t\treturn \"pro Woche\";\n\n\tcase EVERY_2_WEEKS:\n\t\treturn \"zweiwöchentlich\";\n\n\tcase EVERY_4_WEEKS:\n\t\treturn \"vier Wochen\";\n\n\tcase EVERY_MONTH:\n\t\treturn \"monatlich\";\n\n\tcase EVERY_3_MONTHS:\n\t\treturn \"je Quartal\";\n\n\tcase EVERY_6_MONTHS:\n\t\treturn \"halbjährlich\";\n\n\tcase EVERY_12_MONTHS:\n\t\treturn \"jährlich\";\n\n\tdefault:\n\t\treturn `alle ${Math.round(interval / 7)} Wochen`;\n\t}\n}\n\n/**\n * Formats the given price\n *\n * @param {null|{amount: number, interval: number}} price\n * @returns {?string}\n */\nexport function formatPrice (price)\n{\n\treturn price !== null\n\t\t? `${formatAmount(price.amount)} / ${formatInterval(price.interval)}`\n\t\t: null;\n}\n","import {Component, h} from \"preact\";\nimport {ICON_CHECK, ICON_CHECKBOX, ICON_CHECKBOX_CHECKED, ICON_RADIO, ICON_RADIO_CHECKED} from \"../../../lib/icons\";\nimport {classes} from \"mojave/classes\";\nimport {formatPrice} from \"../../../lib/price\";\n\n\nexport const SELECTION_ALL = 1;\n//const SELECTION_SINGLE = 2;\nconst SELECTION_MULTI = 3;\n\n/**\n * @typedef {{\n *      category: Membership.OptionsCategory,\n *      selectedItems: Object<number, boolean>,\n *      onSelectOption: function(number, Object<number, boolean>),\n * }} OptionsSelection.Props\n *\n * @typedef {{\n * }} OptionsSelection.State\n */\nexport class OptionsSelection extends Component\n{\n\t/**\n\t * @param {OptionsSelection.Props} props\n\t * @param {OptionsSelection.State} state\n\t * @returns {null|JSX.Element}\n\t */\n\trender (props, state)\n\t{\n\t\treturn (\n\t\t\t<div class=\"_membership-options-selection\">\n\t\t\t\t<div class=\"_membership-option-headline\">{props.category.headline}</div>\n\t\t\t\t<div class=\"_membership-option-choices\">\n\t\t\t\t\t{props.category.options.map(option => this.renderOption(\n\t\t\t\t\t\toption,\n\t\t\t\t\t\tprops.category.id,\n\t\t\t\t\t\tprops.selectedItems,\n\t\t\t\t\t\tprops.category.selectionMethod\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\n\t/**\n\t * @private\n\t * @param {Membership.Option} option\n\t * @param {number} categoryId\n\t * @param {Object<number, boolean>} selectedItems\n\t * @param {number} selectionMethod\n\t * @returns {JSX.Element}\n\t */\n\trenderOption (option, categoryId, selectedItems, selectionMethod)\n\t{\n\t\t/** @type {OptionsSelection.Props} props */\n\t\tconst props = this.props;\n\t\tlet isSelected = selectedItems[option.id] || false;\n\t\tlet widget;\n\t\tlet selectable = false;\n\t\tlet optionProps = {};\n\t\tlet formattedPrice = formatPrice(option.price);\n\n\t\tif (SELECTION_ALL === selectionMethod)\n\t\t{\n\t\t\tisSelected = true;\n\t\t\twidget = ICON_CHECK;\n\t\t}\n\t\telse if (SELECTION_MULTI === selectionMethod)\n\t\t{\n\t\t\tselectable = true;\n\t\t\twidget = isSelected ? ICON_CHECKBOX_CHECKED : ICON_CHECKBOX;\n\n\t\t\toptionProps.onClick = () =>\n\t\t\t{\n\t\t\t\t// just toggle the render item here\n\t\t\t\tselectedItems[option.id] = !selectedItems[option.id];\n\t\t\t\tprops.onSelectOption(categoryId, selectedItems);\n\t\t\t};\n\t\t}\n\t\telse\n\t\t{\n\t\t\tselectable = true;\n\t\t\twidget = isSelected ? ICON_RADIO_CHECKED : ICON_RADIO;\n\t\t\toptionProps.onClick = () =>\n\t\t\t{\n\t\t\t\t// overwrite all other options here\n\t\t\t\tprops.onSelectOption(categoryId, {\n\t\t\t\t\t[option.id]: !isSelected,\n\t\t\t\t});\n\t\t\t};\n\t\t}\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclass={classes({\n\t\t\t\t\t\"_membership-option-choice\": true,\n\t\t\t\t\t\"_membership-is-selectable\": selectable,\n\t\t\t\t\t\"_membership-is-selected\": isSelected,\n\t\t\t\t})}\n\t\t\t\t{...optionProps}\n\t\t\t>\n\t\t\t\t<div class=\"_membership-choice-widget\">{widget}</div>\n\t\t\t\t<div class=\"_membership-choice-name\">{option.name}</div>\n\t\t\t\t{option.description != null && (\n\t\t\t\t\t// eslint-disable-next-line react/no-danger\n\t\t\t\t\t<div class=\"_membership-choice-description\" dangerouslySetInnerHTML={{__html: option.description}}/>\n\t\t\t\t)}\n\t\t\t\t{formattedPrice !== null && (\n\t\t\t\t\t<div class=\"_membership-choice-price\">{formattedPrice}</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import {Component, h} from \"preact\";\nimport {OptionsSelection} from \"./Options/OptionsSelection\";\n\n\n/**\n * @typedef {{\n *      onProceed: function(),\n *      optionsCategories: Membership.OptionsCategory[],\n *      selected: Object<number, Object<number, boolean>>,\n *      onSelectOption: function(number, Object<number, boolean>),\n *      selectedRuntime: null|Membership.Runtime,\n * }} OptionsStepContent.Props\n *\n * @typedef {{\n * }} OptionsStepContent.State\n */\nexport class OptionsStepContent extends Component\n{\n\t/**\n\t * @param {OptionsStepContent.Props} props\n\t * @param {OptionsStepContent.State} state\n\t * @returns {null|JSX.Element}\n\t */\n\trender (props, state)\n\t{\n\t\tif (props.optionsCategories.length === 0)\n\t\t{\n\t\t\treturn null;\n\t\t}\n\n\t\tconst headline = props.selectedRuntime !== null\n\t\t\t? `Optionen für „${props.selectedRuntime.title}“`\n\t\t\t: \"Optionen\";\n\n\t\treturn (\n\t\t\t<div class=\"_membership-options-categories\">\n\t\t\t\t<div className=\"_membership-headline\">{headline}</div>\n\t\t\t\t{props.optionsCategories.map(category => (\n\t\t\t\t\t<OptionsSelection\n\t\t\t\t\t\tcategory={category}\n\t\t\t\t\t\tselectedItems={props.selected[category.id] || {}}\n\t\t\t\t\t\tonSelectOption={props.onSelectOption}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t\t<div class=\"_membership-proceed\">\n\t\t\t\t\t<button type=\"button\" class=\"_membership-proceed-button\" onClick={props.onProceed}>Weiter</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import $ from \"jquery\";\nimport {classes} from \"mojave/classes\";\nimport {Component, h} from \"preact\";\nimport {formatAmount} from \"../../../lib/price\";\nimport {ICON_RADIO, ICON_RADIO_CHECKED} from \"../../../lib/icons\";\n\n\n/**\n * @typedef {{\n *      runtime: Membership.Runtime,\n *      selected: number,\n *      onSelect: function(),\n *      isFirstEntry: boolean,\n *      isLastEntry: boolean,\n * }} RuntimeDetails.Props\n *\n * @typedef {{\n * }} RuntimeDetails.State\n */\nexport class RuntimeDetails extends Component\n{\n\t/**\n\t * @private\n\t * @type {boolean}\n\t */\n\tdescriptionsOpened = false;\n\n\n\t/**\n\t * @inheritDoc\n\t * @param {RuntimeDetails.Props} nextProps\n\t */\n\tcomponentWillReceiveProps (nextProps)\n\t{\n\t\t/** @type {RuntimeDetails.Props} props */\n\t\tconst props = this.props;\n\n\t\tconst wasActive = props.selected === props.runtime.id;\n\t\tconst isActive = nextProps.selected === nextProps.runtime.id;\n\n\t\tif (wasActive !== isActive)\n\t\t{\n\t\t\tconst $content = $(this.base).find(\"._membership-runtime-content\");\n\t\t\tconst method = isActive ? \"slideDown\" : \"slideUp\";\n\t\t\t$content.stop(true)[method]();\n\t\t}\n\t}\n\n\n\t/**\n\t * @param {RuntimeDetails.Props} props\n\t * @param {RuntimeDetails.State} state\n\t * @returns {null|JSX.Element}\n\t */\n\trender (props, state)\n\t{\n\t\tconst runtime = props.runtime;\n\t\tconst isActive = props.selected === props.runtime.id;\n\n\t\treturn (\n\t\t\t<div class={classes({\n\t\t\t\t\"_membership-runtime\": true,\n\t\t\t\t\"_membership-is-initially-opened\": props.isFirstEntry,\n\t\t\t\t\"_membership-is-last-entry\": props.isLastEntry,\n\t\t\t})}\n\t\t\t>\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclass=\"_membership-runtime-headline\"\n\t\t\t\t\tonClick={props.onSelect}\n\t\t\t\t>\n\t\t\t\t\t{isActive ? ICON_RADIO_CHECKED : ICON_RADIO}\n\t\t\t\t\t<span>{runtime.title}</span>\n\t\t\t\t</button>\n\t\t\t\t<div class=\"_membership-runtime-content\">\n\t\t\t\t\t<div class=\"_membership-runtime-data\">\n\t\t\t\t\t\t<div class=\"_membership-runtime-data-section\">\n\t\t\t\t\t\t\t<div class=\"_membership-runtime-data-headline\">Mitgliedsbeitrag monatlich</div>\n\t\t\t\t\t\t\t<div class=\"_membership-runtime-price\">{formatAmount(runtime.recurringFee)}</div>\n\t\t\t\t\t\t\t<div class=\"_membership-runtime-price-notice\">Ab Mitgliedsbeginn monatlich</div>\n\t\t\t\t\t\t\t{null !== runtime.recurringDescription && (\n\t\t\t\t\t\t\t\t<div class=\"_membership-runtime-details\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\tclass=\"_membership-runtime-details-toggle\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.toggleDescription()}\n\t\t\t\t\t\t\t\t\t>Mehr Informationen\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t{/* eslint-disable-next-line react/no-danger */}\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclass=\"_membership-runtime-details-content\"\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{__html: runtime.recurringDescription}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"_membership-runtime-data-section\">\n\t\t\t\t\t\t\t<div class=\"_membership-runtime-data-headline\">Startpaket</div>\n\t\t\t\t\t\t\t<div class=\"_membership-runtime-price\">{formatAmount(runtime.entryFee)}</div>\n\t\t\t\t\t\t\t<div class=\"_membership-runtime-price-notice\">Ab Mitgliedsbeginn einmalig</div>\n\t\t\t\t\t\t\t{null !== runtime.entryDescription && (\n\t\t\t\t\t\t\t\t<div class=\"_membership-runtime-details\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\tclass=\"_membership-runtime-details-toggle\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.toggleDescription()}\n\t\t\t\t\t\t\t\t\t>Mehr Informationen\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t{/* eslint-disable-next-line react/no-danger */}\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclass=\"_membership-runtime-details-content\"\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{__html: runtime.entryDescription}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\n\t/**\n\t * Toggles the description\n\t *\n\t * @private\n\t */\n\ttoggleDescription ()\n\t{\n\t\tconst method = this.descriptionsOpened ? \"slideUp\" : \"slideDown\";\n\t\tconst $elements = $(this.base).find(\"._membership-runtime-details-content\");\n\t\t$elements.stop(true)[method]();\n\t\tthis.descriptionsOpened = !this.descriptionsOpened;\n\t}\n}\n","import {Component, h} from \"preact\";\nimport {RuntimeDetails} from \"./Runtime/RuntimeDetails\";\n\n\n/**\n * @typedef {{\n *      runtimes: Membership.Runtime[],\n *      selected: ?number,\n *      onSelect: function(?Membership.Runtime),\n *      onProceed: function(),\n * }} RuntimeStepContent.Props\n *\n * @typedef {{\n * }} RuntimeStepContent.State\n */\nexport class RuntimeStepContent extends Component\n{\n\t/**\n\t * @param {RuntimeStepContent.Props} props\n\t * @param {RuntimeStepContent.State} state\n\t * @returns {JSX.Element}\n\t */\n\trender (props, state)\n\t{\n\t\treturn (\n\t\t\t<div class=\"_membership-runtimes\">\n\t\t\t\t<div class=\"_membership-headline\">Wähle Deine Mitgliedschaft</div>\n\t\t\t\t{props.runtimes.map((runtime, index) =>\n\t\t\t\t\t(<RuntimeDetails\n\t\t\t\t\t\truntime={runtime}\n\t\t\t\t\t\tselected={props.selected}\n\t\t\t\t\t\tisFirstEntry={index === 0}\n\t\t\t\t\t\tisLastEntry={index === props.runtimes.length - 1}\n\t\t\t\t\t\tonSelect={() => props.onSelect(runtime)}\n\t\t\t\t\t/>)\n\t\t\t\t)}\n\t\t\t\t<div class=\"_membership-proceed\">\n\t\t\t\t\t<button type=\"button\" class=\"_membership-proceed-button\" onClick={props.onProceed}>Weiter</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import {Component, h} from \"preact\";\n\n\n/**\n * @typedef {{\n *      contract: Membership.Contract,\n *      finalization: {\n *          isLoading: boolean,\n *          result: ?{status: string},\n *      },\n * }} SuccessStepContent.Props\n *\n * @typedef {{\n * }} SuccessStepContent.State\n */\nexport class SuccessStepContent extends Component\n{\n\t/**\n\t * @param {SuccessStepContent.Props} props\n\t * @param {SuccessStepContent.State} state\n\t * @returns {null|JSX.Element}\n\t */\n\trender (props, state)\n\t{\n\t\tlet content = [];\n\n\t\tif (props.finalization.isLoading)\n\t\t{\n\t\t\tcontent.push(<p>Ihre Daten werden gespeichert, bitte einen Moment Geduld...</p>);\n\t\t}\n\t\telse if (\"ok\" === props.finalization.result)\n\t\t{\n\t\t\tcontent.push(<p>Ihre Anmeldung wurde erfolgreich gespeichert.</p>);\n\t\t\tcontent.push(<p>Sie erhalten in Kürze eine Email, bitte den Link mit einem Klick bestätigen zur Aktivierung ihrer Mitgliedschaft.</p>);\n\n\t\t\tif (props.contract.client.personalization.configuratorRegards !== null)\n\t\t\t{\n\t\t\t\t// eslint-disable-next-line react/no-danger\n\t\t\t\tcontent.push(<p dangerouslySetInnerHTML={{__html: props.contract.client.personalization.configuratorRegards}} />);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tcontent.push(<p>Vielen Dank für Ihre Anmeldung!</p>);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tcontent.push(<p class=\"_membership-success-store-failure\">Die Anfrage, Ihre Daten zu speichern ist fehlgeschlagen. Bitte versuchen Sie die Anmeldung erneut, indem Sie die Seite neuladen. Falls die Anmeldung immer noch nicht klappt, wenden Sie sich bitte direkt an uns.</p>);\n\t\t\tcontent.push(<p><a href={document.location}>Erneut versuchen</a></p>);\n\t\t}\n\n\t\treturn (\n\t\t\t<div class=\"_membership-success\">\n\t\t\t\t<div class=\"_membership-headline\">{`Herzlich Willkommen bei ${props.contract.client.name}`}</div>\n\t\t\t\t{content}\n\t\t\t</div>\n\t\t);\n\t}\n}\n","export function isSameDay(date, otherDate) {\n    return 0 === compareDate(date, otherDate);\n}\nexport function isSameTimestamp(date, otherDate) {\n    return 0 === compareTimestamp(date, otherDate);\n}\nexport function isBeforeDate(date, otherDate) {\n    return -1 === compareDate(date, otherDate);\n}\nexport function compareDate(date, otherDate) {\n    const compareYear = compare(date.getFullYear(), otherDate.getFullYear());\n    if (0 !== compareYear) {\n        return compareYear;\n    }\n    const compareMonth = compare(date.getMonth(), otherDate.getMonth());\n    if (0 !== compareMonth) {\n        return compareMonth;\n    }\n    return compare(date.getDate(), otherDate.getDate());\n}\nexport function compareTimestamp(date, otherDate) {\n    const compareDateResult = compareDate(date, otherDate);\n    if (0 !== compareDateResult) {\n        return compareDateResult;\n    }\n    const compareHour = compare(date.getHours(), otherDate.getHours());\n    if (0 !== compareHour) {\n        return compareHour;\n    }\n    const compareMinute = compare(date.getMinutes(), otherDate.getMinutes());\n    if (0 !== compareMinute) {\n        return compareMinute;\n    }\n    return compare(date.getSeconds(), otherDate.getSeconds());\n}\nfunction compare(value, otherValue) {\n    if (value === otherValue) {\n        return 0;\n    }\n    return (value < otherValue) ? -1 : 1;\n}\n","const MINUTE = 60;\nconst HOUR = 60 * MINUTE;\nconst DAY = 24 * HOUR;\nconst WEEK = 7 * DAY;\nconst YEAR = 365 * DAY;\nconst MONTH = YEAR / 12;\nconst TIME_SECTION_LABELS_DE = [\n    'gerade eben',\n    'vor einer Minute',\n    'vor # Minuten',\n    'vor einer Stunde',\n    'vor # Stunden',\n    'gestern',\n    'vorgestern',\n    'vor # Tagen',\n    'vor einer Woche',\n    'vor # Wochen',\n    'vor einem Monat',\n    'vor # Monaten',\n    'vor einem Jahr',\n    'vor # Jahren',\n];\nconst germanRelativeDateLabelFormatter = (index, delta) => {\n    let text = TIME_SECTION_LABELS_DE[index];\n    if (delta < 0) {\n        text = text\n            .replace(\"vorgestern\", \"übermorgen\")\n            .replace(\"gestern\", \"morgen\")\n            .replace(\"vor\", \"in\");\n    }\n    return text;\n};\nconst TIME_SECTIONS = [\n    [0.8 * MINUTE],\n    [1.5 * MINUTE],\n    [60 * MINUTE, MINUTE],\n    [1.5 * HOUR],\n    [DAY, HOUR],\n    [2 * DAY],\n    [3 * DAY],\n    [7 * DAY, DAY],\n    [1.5 * WEEK],\n    [MONTH, WEEK],\n    [1.5 * MONTH],\n    [YEAR, MONTH],\n    [1.5 * YEAR],\n    [Infinity, YEAR],\n];\nexport function formatRelative(date, referenceDate = null, formatLabel = null) {\n    if (null === formatLabel) {\n        formatLabel = germanRelativeDateLabelFormatter;\n    }\n    if (null === referenceDate) {\n        referenceDate = new Date();\n    }\n    const delta = (referenceDate.getTime() - date.getTime()) / 1000;\n    const absDelta = Math.abs(delta);\n    for (let i = 0; i < TIME_SECTIONS.length; i++) {\n        const entry = TIME_SECTIONS[i];\n        if (absDelta < entry[0]) {\n            const text = formatLabel(i, delta);\n            return entry[1] !== undefined\n                ? text.replace(\"#\", Math.round(absDelta / entry[1]) + \"\")\n                : text;\n        }\n    }\n    return \"\";\n}\nexport function formatDate(date) {\n    return `${zeroFill(date.getDate())}.${zeroFill(date.getMonth() + 1)}.${date.getFullYear()}`;\n}\nexport function formatDateTime(date, withSeconds = true) {\n    return `${formatDate(date)} ${formatTime(date, withSeconds)}`;\n}\nexport function formatDateShort(date) {\n    return `${zeroFill(date.getDate())}.${zeroFill(date.getMonth() + 1)}.`;\n}\nexport function formatTime(date, withSeconds = true) {\n    let time = `${zeroFill(date.getHours())}:${zeroFill(date.getMinutes())}`;\n    if (withSeconds) {\n        time += `:${zeroFill(date.getSeconds())}`;\n    }\n    return time;\n}\nfunction zeroFill(value) {\n    return value < 10 ? `0${value}` : value + \"\";\n}\n","import {formatDate} from \"mojave/date/format\";\n\n/**\n *\n * @param {Date} date\n * @returns string\n */\nexport function formatTechnicalDate (date)\n{\n\tconst zerofill = (number) => (\"\" + number).padStart(2, \"0\");\n\n\treturn date.getFullYear() + \"-\" + zerofill(date.getMonth() + 1) + \"-\" + zerofill(date.getDate());\n}\n\n/**\n * @param {string|Date} givenDate\n */\nexport function isNextMonth (givenDate)\n{\n\tconst today = new Date();\n\tconst nextMonth = new Date(today.getFullYear(), today.getMonth() + 1, 1, 0, 0, 0);\n\tconst date = parseDate(givenDate);\n\n\treturn formatTechnicalDate(nextMonth) === formatTechnicalDate(date);\n}\n\n\n/**\n * @param {string|null} startDate\n * @returns Date[]\n */\nexport function generateStartMonths (startDate)\n{\n\tconst today = new Date();\n\tconst nextMonth = new Date(today.getFullYear(), today.getMonth() + 1, 1, 0, 0, 0);\n\tconst firstDay = parseDate(startDate);\n\n\tconst firstMonth = null !== firstDay && firstDay > nextMonth\n\t\t? firstDay\n\t\t: nextMonth;\n\n\treturn [\n\t\tfirstMonth,\n\t\tnew Date(firstMonth.getFullYear(), firstMonth.getMonth() + 1, 1, 0, 0, 0),\n\t\tnew Date(firstMonth.getFullYear(), firstMonth.getMonth() + 2, 1, 0, 0, 0),\n\t];\n}\n\n\n/**\n *\n * @param {string|null|Date} date\n * @returns Date|null\n */\nexport function parseDate (date)\n{\n\tif (date instanceof Date)\n\t{\n\t\tdate.setHours(0, 0, 0);\n\t\treturn date;\n\t}\n\n\tif (typeof date === \"string\")\n\t{\n\t\tconst parsed = new Date(date);\n\t\tparsed.setHours(0, 0, 0);\n\t\treturn parsed;\n\t}\n\n\treturn null;\n}\n\n/**\n *\n * @param {Date} date\n * @param {string|null} startDate\n */\nexport function getSelectionDateLabel (date, startDate)\n{\n\tconst parsedStartDate = parseDate(startDate);\n\n\tif ((!parsedStartDate || !isNextMonth(parsedStartDate)) && isNextMonth(date))\n\t{\n\t\treturn \"Ab sofort\";\n\t}\n\n\treturn formatDate(date);\n}\n","import $ from \"jquery\";\nimport {Component, h} from \"preact\";\nimport {isBeforeDate} from \"mojave/date/compare\";\nimport {ICON_CHECKBOX, ICON_CHECKBOX_CHECKED} from \"../../lib/icons\";\nimport {formatDate} from \"mojave/date/format\";\nimport {formatTechnicalDate, generateStartMonths, getSelectionDateLabel, isNextMonth} from \"../../lib/date\";\n\n\n/**\n * Mapping of all validators.\n * Validators are functions that take a value and return either an error message (in case of failure) or\n * `null` (in case of success).\n *\n * @type {{\n *     notBlank: function(string): ?string,\n *     birthday: function(string): ?string,\n *     areaCode: function(string): ?string,\n * }}\n */\nconst VALIDATORS = {\n\tnotBlank (value)\n\t{\n\t\treturn null === value\n\t\t\t? \"Bitte einen Wert eingeben.\"\n\t\t\t: null;\n\t},\n\tbirthday (value)\n\t{\n\t\tif (null === value)\n\t\t{\n\t\t\treturn null;\n\t\t}\n\n\t\tconst match = /^(\\d{1,2})\\.(\\d{1,2}).(\\d{4})$/.exec(value);\n\n\t\tif (null === match)\n\t\t{\n\t\t\treturn \"Bitte den Geburtstag im Format TT.MM.JJJJ eingeben.\";\n\t\t}\n\n\t\tconst day = parseInt(match[1], 10);\n\t\tconst month = parseInt(match[2], 10);\n\n\t\tif (0 === day || 0 === month)\n\t\t{\n\t\t\treturn \"Bitte ein gültiges Datum eingeben.\";\n\t\t}\n\n\n\t\tconst date = new Date(match[3], month - 1, day);\n\n\t\t// check whether the date is in the future\n\t\tconst today = new Date();\n\t\tconst today16YearsAgo = new Date(today.getFullYear() - 16, today.getMonth(), today.getDate());\n\n\t\treturn isBeforeDate(today16YearsAgo, date)\n\t\t\t? \"Sie müssen mindestens 16 Jahre alt sein, um einen Vertrag abschließen zu können.\"\n\t\t\t: null;\n\t},\n\tareaCode (value)\n\t{\n\t\tif (null === value)\n\t\t{\n\t\t\treturn null;\n\t\t}\n\n\t\treturn /^[0-9]{4,5}$/.test(value)\n\t\t\t? null\n\t\t\t: \"Bitte eine gültige Postleitzahl eingeben.\";\n\t},\n\temail (value)\n\t{\n\t\tif (null === value)\n\t\t{\n\t\t\treturn null;\n\t\t}\n\n\t\treturn /^.+@\\S+\\.\\S+$/.test(value)\n\t\t\t? null\n\t\t\t: \"Bitte eine gültige E-Mail-Adresse eingeben.\";\n\t},\n\tiban (value)\n\t{\n\t\tif (null === value)\n\t\t{\n\t\t\treturn null;\n\t\t}\n\n\t\treturn /^(DE\\d{2}\\d{8}\\d{10}|AT\\d{2}\\d{5}\\d{11}|CH\\d{2}\\d{5}[\\dA-Z]{12})$/.test(value)\n\t\t\t? null\n\t\t\t: \"Bitte eine gültige IBAN aus DE / AT / CH eingeben.\";\n\t},\n};\n\n\n/**\n * @typedef {{\n *      onProceed: function(Membership.FormData),\n *      firstDay: string|null,\n * }} UserDataFormStepContent.Props\n *\n * @typedef {{\n * }} UserDataFormStepContent.State\n */\nexport class UserDataFormStepContent extends Component\n{\n\t/**\n\t * The list of field constraints.\n\t *\n\t * This list needs to be kept in-sync with the server side constraint list in the PHP class {@see DataValidator}\n\t *\n\t * @private\n\t * @constant\n\t * @type {Object<string, function()[]>}\n\t */\n\tFIELD_CONSTRAINTS = {\n\t\tcontractStart: [VALIDATORS.notBlank],\n\t\tsalutation: [VALIDATORS.notBlank],\n\t\ttitle: [],\n\t\tlastName: [VALIDATORS.notBlank],\n\t\tfirstName: [VALIDATORS.notBlank],\n\t\tbirthday: [VALIDATORS.notBlank, VALIDATORS.birthday],\n\t\tstreet: [VALIDATORS.notBlank],\n\t\tareaCode: [VALIDATORS.notBlank, VALIDATORS.areaCode],\n\t\tcity: [VALIDATORS.notBlank],\n\t\tphone: [],\n\t\tmobile: [VALIDATORS.notBlank],\n\t\temail: [VALIDATORS.notBlank, VALIDATORS.email],\n\n\t\t// optional fields\n\t\tpresenteeActive: [],\n\t\tpresenteeName: [VALIDATORS.notBlank],\n\t\tpresenteeBirthday: [VALIDATORS.notBlank, VALIDATORS.birthday],\n\t\tpresenteeEmail: [VALIDATORS.notBlank, VALIDATORS.email],\n\t\tpresenteeStreet: [VALIDATORS.notBlank],\n\t\tpresenteeAreaCode: [VALIDATORS.notBlank, VALIDATORS.areaCode],\n\t\tpresenteeCity: [VALIDATORS.notBlank],\n\n\t\t// rest of the regular fields\n\t\tiban: [VALIDATORS.notBlank, VALIDATORS.iban],\n\t\tbic: [VALIDATORS.notBlank],\n\t\taccountHolder: [VALIDATORS.notBlank],\n\t\taccountInstitute: [VALIDATORS.notBlank],\n\t};\n\n\t/**\n\t * @inheritDoc\n\t */\n\tshouldComponentUpdate (nextProps, nextState, nextContext)\n\t{\n\t\t// never update, as otherwise the inputs might be reset\n\t\treturn false;\n\t}\n\n\n\t/**\n\t * @param {UserDataFormStepContent.Props} props\n\t * @param {UserDataFormStepContent.State} state\n\t * @returns {null|JSX.Element}\n\t */\n\trender (props, state)\n\t{\n\t\tconst possibleStartDates = generateStartMonths(props.firstDay);\n\n\t\treturn (\n\t\t\t<div class=\"_membership-form\">\n\t\t\t\t<div class=\"_membership-headline\">Mache Deine Angaben</div>\n\t\t\t\t<div class=\"_membership-form-fields\">\n\t\t\t\t\t<div className=\"_membership-form-field _membership-is-required\" data-validators=\"not_blank\">\n\t\t\t\t\t\t<label className=\"_membership-form-label\">\n\t\t\t\t\t\t\t<span>Vertragsstart</span>\n\t\t\t\t\t\t\t<select name=\"contractStart\" required>\n\t\t\t\t\t\t\t\t{possibleStartDates.map((date) => (\n\t\t\t\t\t\t\t\t\t<option value={formatTechnicalDate(date)}>\n\t\t\t\t\t\t\t\t\t\t{getSelectionDateLabel(date, props.firstDay)}\n\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"_membership-form-field _membership-is-required\" data-validators=\"not_blank\">\n\t\t\t\t\t\t<label class=\"_membership-form-label\">\n\t\t\t\t\t\t\t<span>Anrede</span>\n\t\t\t\t\t\t\t<select name=\"salutation\" required={true}>\n\t\t\t\t\t\t\t\t<option value=\"\" selected={true} disabled={true}>- bitte wählen -</option>\n\t\t\t\t\t\t\t\t<option value=\"f\">Frau</option>\n\t\t\t\t\t\t\t\t<option value=\"m\">Herr</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"_membership-form-field\">\n\t\t\t\t\t\t<label class=\"_membership-form-label\">\n\t\t\t\t\t\t\t<span>Titel</span>\n\t\t\t\t\t\t\t<select name=\"title\">\n\t\t\t\t\t\t\t\t<option value=\"\" selected={true} disabled={true}>(kein Titel)</option>\n\t\t\t\t\t\t\t\t<option value=\"dr\">Dr.</option>\n\t\t\t\t\t\t\t\t<option value=\"prof\">Prof.</option>\n\t\t\t\t\t\t\t\t<option value=\"prof_dr\">Prof. Dr.</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"_membership-form-field _membership-is-required\">\n\t\t\t\t\t\t<label class=\"_membership-form-label\">\n\t\t\t\t\t\t\t<span>Nachname</span>\n\t\t\t\t\t\t\t<input type=\"text\" name=\"lastName\" required={true} value=\"\"/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"_membership-form-field _membership-is-required\">\n\t\t\t\t\t\t<label class=\"_membership-form-label\">\n\t\t\t\t\t\t\t<span>Vorname</span>\n\t\t\t\t\t\t\t<input type=\"text\" name=\"firstName\" required={true} value=\"\"/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"_membership-form-field _membership-is-required\">\n\t\t\t\t\t\t<label class=\"_membership-form-label\">\n\t\t\t\t\t\t\t<span>Geburtstag</span>\n\t\t\t\t\t\t\t<input type=\"text\" name=\"birthday\" placeholder=\"TT.MM.JJJJ\" value=\"\" required={true}/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"_membership-form-field _membership-is-required\">\n\t\t\t\t\t\t<label class=\"_membership-form-label\">\n\t\t\t\t\t\t\t<span>Straße / Hausnummer</span>\n\t\t\t\t\t\t\t<input type=\"text\" name=\"street\" value=\"\" required={true}/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"_membership-form-field _membership-is-required\">\n\t\t\t\t\t\t<label class=\"_membership-form-label\">\n\t\t\t\t\t\t\t<span>Postleitzahl</span>\n\t\t\t\t\t\t\t<input type=\"text\" name=\"areaCode\" value=\"\" required={true}/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"_membership-form-field _membership-is-required\">\n\t\t\t\t\t\t<label class=\"_membership-form-label\">\n\t\t\t\t\t\t\t<span>Ort</span>\n\t\t\t\t\t\t\t<input type=\"text\" name=\"city\" value=\"\" required={true}/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"_membership-form-field\">\n\t\t\t\t\t\t<label class=\"_membership-form-label\">\n\t\t\t\t\t\t\t<span>Telefon</span>\n\t\t\t\t\t\t\t<input type=\"text\" name=\"phone\" value=\"\"/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"_membership-form-field _membership-is-required\">\n\t\t\t\t\t\t<label class=\"_membership-form-label\">\n\t\t\t\t\t\t\t<span>Mobilnummer</span>\n\t\t\t\t\t\t\t<input type=\"text\" name=\"mobile\" value=\"\" required={true}/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"_membership-form-field _membership-is-required\">\n\t\t\t\t\t\t<label class=\"_membership-form-label\">\n\t\t\t\t\t\t\t<span>E-Mail</span>\n\t\t\t\t\t\t\t<input type=\"email\" name=\"email\" value=\"\" required={true}/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"_membership-form-fields _membership-optional-section\">\n\t\t\t\t\t<input type=\"checkbox\" class=\"_membership-form-optional-check\" name=\"presenteeActive\" value=\"1\"/>\n\t\t\t\t\t<button type=\"button\" class=\"_membership-form-optional-button\">\n\t\t\t\t\t\t<span class=\"_membership-button-icon-inactive\">{ICON_CHECKBOX}</span>\n\t\t\t\t\t\t<span class=\"_membership-button-icon-active\">{ICON_CHECKBOX_CHECKED}</span>\n\t\t\t\t\t\t<span class=\"_membership-button-text\">Vertragsnutzer abweichend?</span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<div class=\"_membership-optional-section-content\">\n\t\t\t\t\t\t<div class=\"_membership-form-optional _membership-form-fields\">\n\t\t\t\t\t\t\t<div class=\"_membership-form-field _membership-is-required\">\n\t\t\t\t\t\t\t\t<label class=\"_membership-form-label\">\n\t\t\t\t\t\t\t\t\t<span>Kompletter Name</span>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"presenteeName\" value=\"\" required={true}/>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"_membership-form-field _membership-is-required\">\n\t\t\t\t\t\t\t\t<label className=\"_membership-form-label\">\n\t\t\t\t\t\t\t\t\t<span>Geburtstag</span>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"text\" name=\"presenteeBirthday\" placeholder=\"TT.MM.JJJJ\" value=\"\"\n\t\t\t\t\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"_membership-form-field _membership-is-required\">\n\t\t\t\t\t\t\t\t<label class=\"_membership-form-label\">\n\t\t\t\t\t\t\t\t\t<span>E-Mail</span>\n\t\t\t\t\t\t\t\t\t<input type=\"email\" name=\"presenteeEmail\" value=\"\" required={true}/>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"_membership-form-field _membership-is-required\">\n\t\t\t\t\t\t\t\t<label class=\"_membership-form-label\">\n\t\t\t\t\t\t\t\t\t<span>Straße / Hausnummer</span>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"presenteeStreet\" value=\"\" required={true}/>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"_membership-form-field _membership-is-required\">\n\t\t\t\t\t\t\t\t<label class=\"_membership-form-label\">\n\t\t\t\t\t\t\t\t\t<span>Postleitzahl</span>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"presenteeAreaCode\" value=\"\" required={true}/>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"_membership-form-field _membership-is-required\">\n\t\t\t\t\t\t\t\t<label class=\"_membership-form-label\">\n\t\t\t\t\t\t\t\t\t<span>Stadt</span>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"presenteeCity\" value=\"\" required={true}/>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"_membership-form-fields\">\n\t\t\t\t\t<div class=\"_membership-form-field _membership-is-required\">\n\t\t\t\t\t\t<label class=\"_membership-form-label\">\n\t\t\t\t\t\t\t<span>IBAN</span>\n\t\t\t\t\t\t\t<input type=\"text\" name=\"iban\" value=\"\" required={true}/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"_membership-form-field _membership-is-required\">\n\t\t\t\t\t\t<label class=\"_membership-form-label\">\n\t\t\t\t\t\t\t<span>BIC</span>\n\t\t\t\t\t\t\t<input type=\"text\" name=\"bic\" value=\"\" required={true}/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"_membership-form-field _membership-is-required\">\n\t\t\t\t\t\t<label class=\"_membership-form-label\">\n\t\t\t\t\t\t\t<span>Kontoinhaber</span>\n\t\t\t\t\t\t\t<input type=\"text\" name=\"accountHolder\" value=\"\" required={true}/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"_membership-form-field _membership-is-required\">\n\t\t\t\t\t\t<label class=\"_membership-form-label\">\n\t\t\t\t\t\t\t<span>Bank</span>\n\t\t\t\t\t\t\t<input type=\"text\" name=\"accountInstitute\" value=\"\" required={true}/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"_membership-proceed\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\" class=\"_membership-proceed-button\"\n\t\t\t\t\t\tonClick={() => this.onProceedClick()}\n\t\t\t\t\t>Weiter\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\n\t/**\n\t * @inheritDoc\n\t */\n\tcomponentDidMount ()\n\t{\n\t\t// Register event listener for toggling the hidden input\n\t\t$(this.base).on(\"click\", \"._membership-form-optional-button\",\n\t\t\t/** @param {Event} event */\n\t\t\t(event) =>\n\t\t\t{\n\t\t\t\tconst $button = $(event.currentTarget);\n\t\t\t\tconst $content = $button.next();\n\t\t\t\tconst $input = $button.prev();\n\n\t\t\t\tconst isActive = !$input.prop(\"checked\");\n\t\t\t\t$input.prop(\"checked\", isActive);\n\t\t\t\tconst method = isActive ? \"slideDown\" : \"slideUp\";\n\t\t\t\t$content.stop(true)[method]();\n\t\t\t}\n\t\t);\n\t}\n\n\n\t/**\n\t * Handles the click on the proceed button\n\t *\n\t * @private\n\t */\n\tonProceedClick ()\n\t{\n\t\tthis.removeValidationErrors();\n\t\tconst formData = this.validateForm();\n\n\t\tif (null !== formData && typeof this.props.onProceed === \"function\")\n\t\t{\n\t\t\tthis.props.onProceed(formData);\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// scroll to the top of the form to display the error messages\n\t\t\t$(window).animate({\n\t\t\t\tscrollTop: $(this.base).offset().top,\n\t\t\t});\n\t\t}\n\t}\n\n\n\t/**\n\t * Removes all validation errors\n\t *\n\t * @private\n\t */\n\tremoveValidationErrors ()\n\t{\n\t\tconst $base = $(this.base);\n\n\t\t$base.find(\"._membership-form-error\")\n\t\t\t.remove();\n\n\t\t$base.find(\"._membership-has-error\")\n\t\t\t.removeClass(\"_membership-has-error\");\n\t}\n\n\n\t/**\n\t * Validates the given form\n\t *\n\t * @private\n\t * @returns {?Membership.FormData}   either the form data or `null` if there is a validation error\n\t */\n\tvalidateForm ()\n\t{\n\t\tlet hasError = false;\n\n\t\t// the optional fields checkbox is not inside a form-field, so it won't be catched in the list down there\n\t\tconst $optionalFieldsInput = $(this.base).find(\"._membership-form-optional-check\");\n\t\tlet optionalFieldsRequired = $optionalFieldsInput.prop(\"checked\");\n\t\tconst formData = {\n\t\t\t[$optionalFieldsInput.attr(\"name\")]: optionalFieldsRequired ? $optionalFieldsInput.attr(\"value\") : null,\n\t\t};\n\n\t\t$(this.base).find(\"._membership-form-field\")\n\t\t\t.each(\n\t\t\t\t(index, element) =>\n\t\t\t\t{\n\t\t\t\t\tlet $field = $(element);\n\t\t\t\t\tlet $input = $field.find(\"input, select\");\n\t\t\t\t\tlet name = $input.attr(\"name\");\n\t\t\t\t\tlet value = $input.is(\"select\")\n\t\t\t\t\t\t? $input.find(\":selected\").val()\n\t\t\t\t\t\t: $input.val().trim();\n\n\t\t\t\t\t// normalize an empty input to null\n\t\t\t\t\tif (\"\" === value)\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue = null;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet constraints = this.FIELD_CONSTRAINTS[name] || [];\n\n\t\t\t\t\t// the presentee fields are only active, if the presentee Checkbox is set\n\t\t\t\t\tif (/^presentee/.test(name) && !optionalFieldsRequired)\n\t\t\t\t\t{\n\t\t\t\t\t\tconstraints = [];\n\t\t\t\t\t}\n\n\t\t\t\t\tformData[name] = value;\n\n\t\t\t\t\tconstraints.forEach(\n\t\t\t\t\t\tconstraint =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet errorMessage = constraint(value);\n\n\t\t\t\t\t\t\tif (null !== errorMessage)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\thasError = true;\n\t\t\t\t\t\t\t\tthis.addError($field, errorMessage);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t);\n\n\t\treturn !hasError\n\t\t\t? formData\n\t\t\t: null;\n\t}\n\n\n\t/**\n\t * Adds an error to a field\n\t *\n\t * @private\n\t * @param {JQuery} $field\n\t * @param {string} message\n\t */\n\taddError ($field, message)\n\t{\n\t\t$field\n\t\t\t.addClass(\"_membership-has-error\")\n\t\t\t.append(\n\t\t\t\t$(\"<div></div>\", {\n\t\t\t\t\tclass: \"_membership-form-error\",\n\t\t\t\t\ttext: `Fehler: ${message}`,\n\t\t\t\t})\n\t\t\t);\n\t}\n}\n","import $ from \"jquery\";\nimport {Component, h} from \"preact\";\nimport {\n\tDAYS_PER_MONTH,\n\tEVERY_12_MONTHS,\n\tEVERY_2_WEEKS,\n\tEVERY_3_MONTHS,\n\tEVERY_4_WEEKS,\n\tEVERY_6_MONTHS,\n\tEVERY_MONTH,\n\tEVERY_WEEK,\n\tformatAmount,\n\tformatPrice,\n} from \"../../lib/price\";\nimport {formatDate} from \"mojave/date/format\";\nimport {SELECTION_ALL} from \"./Options/OptionsSelection\";\nimport {isNextMonth, parseDate} from \"../../lib/date\";\n\nconst INTERVAL_ONCE = 0;\nconst INTERVAL_LABEL_PREFIXES = {\n\t[INTERVAL_ONCE]: \"Einmaliger\",\n\t[EVERY_WEEK]: \"Wöchentlicher\",\n\t[EVERY_2_WEEKS]: \"Zweiwöchentlicher\",\n\t[EVERY_4_WEEKS]: \"Vierwöchentlicher\",\n\t[EVERY_MONTH]: \"Monatlicher\",\n\t[EVERY_3_MONTHS]: \"Quartalsmäßiger\",\n\t[EVERY_6_MONTHS]: \"Halbjährlicher\",\n\t[EVERY_12_MONTHS]: \"Jährlicher\",\n};\n\n/**\n * @typedef {{interval: number, amount: number}[]} OverviewStepContent.Totals\n *\n *\n * @typedef {{\n *      selectedRuntime: number,\n *      firstDay: string|null,\n *      selectedOptions: Object<number, Object<number, boolean>>,\n *      formData: Membership.FormData,\n *      contract: Membership.Contract,\n *      onProceed: function(number),\n *      privacyPageUrl: ?string,\n * }} OverviewStepContent.Props\n *\n * @typedef {{\n *      privacyConfirmMissing: boolean,\n * }} OverviewStepContent.State\n */\nexport class OverviewStepContent extends Component\n{\n\t/**\n\t * @inheritDoc\n\t */\n\tconstructor (props)\n\t{\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tprivacyConfirmMissing: false,\n\t\t};\n\t}\n\n\n\t/**\n\t * @param {OverviewStepContent.Props} props\n\t * @param {OverviewStepContent.State} state\n\t * @returns {null|JSX.Element}\n\t */\n\trender (props, state)\n\t{\n\t\tlet runtime = this.getSelectedRuntime(props.contract.runtimes, props.selectedRuntime);\n\t\tlet today = new Date();\n\n\t\tconst openingOfGymDate = parseDate(this.props.firstDay);\n\t\tlet startOfContract = parseDate(props.formData.contractStart) || new Date();\n\n\t\t// neat trick: go to next month and one day back\n\t\tlet numbersOfDaysInMonth = new Date(today.getFullYear(), today.getMonth() + 1, 0).getDate();\n\t\tlet daysBeforeStart = numbersOfDaysInMonth - today.getDate();\n\n\t\t// if the gym opens on a given date, then we can't be earlier than that\n\t\tif (openingOfGymDate && (openingOfGymDate.getTime() >= startOfContract.getTime()))\n\t\t{\n\t\t\tstartOfContract = openingOfGymDate;\n\t\t\tdaysBeforeStart = 0;\n\t\t}\n\t\telse if (!isNextMonth(startOfContract))\n\t\t{\n\t\t\tdaysBeforeStart = 0;\n\t\t}\n\n\t\tlet daysBeforeStartLabel = daysBeforeStart === 1 ? \"Tag\" : \"Tage\";\n\t\tlet hasEarlyStart = 0 < daysBeforeStart;\n\t\tlet startOfContractDate = startOfContract ? formatDate(startOfContract) : null;\n\n\t\t// get totals\n\t\tlet totals = this.getTotals(props.contract, runtime, props.selectedOptions);\n\n\t\t// get pre payment amount\n\t\tlet earlyStartAmount = hasEarlyStart\n\t\t\t? this.getPrePaymentAmount(daysBeforeStart, totals)\n\t\t\t: 0;\n\n\t\treturn (\n\t\t\t<div class=\"_membership-overview\">\n\t\t\t\t<div class=\"_membership-headline\">Bestätige Deine Angaben</div>\n\t\t\t\t<div class=\"_membership-overview-topics\">\n\t\t\t\t\t<div class=\"_membership-overview-topic\">\n\t\t\t\t\t\t<div class=\"_membership-overview-section\">\n\t\t\t\t\t\t\t<div class=\"_membership-section-headline\">Vertragspartner</div>\n\t\t\t\t\t\t\t<ul class=\"_membership-overview-values\">\n\t\t\t\t\t\t\t\t<li>{this.buildName(props.formData)}</li>\n\t\t\t\t\t\t\t\t<li>{props.formData.street}</li>\n\t\t\t\t\t\t\t\t<li>{`${props.formData.areaCode} ${props.formData.city}`}</li>\n\t\t\t\t\t\t\t\t<li>{`Geburtstag: ${props.formData.birthday}`}</li>\n\t\t\t\t\t\t\t\t{props.formData.phone !== null && (\n\t\t\t\t\t\t\t\t\t<li>{`Telefon: ${props.formData.phone}`}</li>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<li>{`Mobil: ${props.formData.mobile}`}</li>\n\t\t\t\t\t\t\t\t<li>{props.formData.email}</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{null !== props.formData.presenteeActive && (\n\t\t\t\t\t\t\t<div class=\"_membership-overview-section\">\n\t\t\t\t\t\t\t\t<div class=\"_membership-section-headline\">Vertragsnutzer</div>\n\t\t\t\t\t\t\t\t<ul class=\"_membership-overview-values\">\n\t\t\t\t\t\t\t\t\t<li>{props.formData.presenteeName}</li>\n\t\t\t\t\t\t\t\t\t<li>{`Geburtstag: ${props.formData.presenteeBirthday}`}</li>\n\t\t\t\t\t\t\t\t\t<li>{props.formData.presenteeStreet}</li>\n\t\t\t\t\t\t\t\t\t<li>{`${props.formData.presenteeAreaCode} ${props.formData.presenteeCity}`}</li>\n\t\t\t\t\t\t\t\t\t<li>{props.formData.presenteeEmail}</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<div class=\"_membership-overview-section\">\n\t\t\t\t\t\t\t<div class=\"_membership-section-headline\">Kontoinformationen</div>\n\t\t\t\t\t\t\t<ul class=\"_membership-overview-values\">\n\t\t\t\t\t\t\t\t<li>{props.formData.accountHolder}</li>\n\t\t\t\t\t\t\t\t<li>{`IBAN: ${props.formData.iban}`}</li>\n\t\t\t\t\t\t\t\t<li>{`BIC: ${props.formData.bic}`}</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"_membership-overview-topic\">\n\t\t\t\t\t\t<div class=\"_membership-overview-section\">\n\t\t\t\t\t\t\t<div class=\"_membership-section-headline\">Vertrag</div>\n\t\t\t\t\t\t\t<ul class=\"_membership-overview-values\">\n\t\t\t\t\t\t\t\t<li>{runtime.title}</li>\n\t\t\t\t\t\t\t\t<li>{`Mitgliedbeitrag monatlich: ${formatAmount(runtime.recurringFee)}`}</li>\n\t\t\t\t\t\t\t\t<li class=\"_membership-overview-value-help\">Ab Mitgliedsbeginn monatlich</li>\n\t\t\t\t\t\t\t\t<li>{`Startpaket: ${formatAmount(runtime.entryFee)}`}</li>\n\t\t\t\t\t\t\t\t<li class=\"_membership-overview-value-help\">Bei Mitgliedsbeginn einmalig</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{this.renderOptions(props.contract.optionsCategories, props.selectedOptions)}\n\t\t\t\t\t\t<div class=\"_membership-overview-section\">\n\t\t\t\t\t\t\t<div class=\"_membership-section-headline\">Vertragsinformationen</div>\n\t\t\t\t\t\t\t<ul class=\"_membership-overview-values\">\n\t\t\t\t\t\t\t\t<li>{`Vertragsbeginn: ${startOfContractDate}`}</li>\n\t\t\t\t\t\t\t\t{daysBeforeStart > 0 && (\n\t\t\t\t\t\t\t\t\t<li>{`Anteilig berechnet: ${daysBeforeStart} ${daysBeforeStartLabel}`}</li>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"_membership-overview-section\">\n\t\t\t\t\t\t\t<div class=\"_membership-section-headline\">Abrechnungsübersicht</div>\n\t\t\t\t\t\t\t<ul class=\"_membership-overview-values\">\n\t\t\t\t\t\t\t\t{totals.map(entry => {\n\t\t\t\t\t\t\t\t\tconst result = [\n\t\t\t\t\t\t\t\t\t\t<li>{`${INTERVAL_LABEL_PREFIXES[entry.interval]} Abbuchungsbetrag: ${formatAmount(entry.amount)}`}</li>,\n\t\t\t\t\t\t\t\t\t];\n\n\t\t\t\t\t\t\t\t\tif (entry.interval > 0 && entry.interval < DAYS_PER_MONTH)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tresult.push(<li class=\"_membership-overview-value-help\">Wird gesammelt mit dem Monatsbeitrag abgebucht.</li>);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t{(hasEarlyStart && 0 < earlyStartAmount) && (\n\t\t\t\t\t\t\t\t\t<li class=\"_membership-overview-value-separated\">{`Anteilig berechnet: ${formatAmount(earlyStartAmount)}`}</li>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{(hasEarlyStart && 0 < earlyStartAmount) && (\n\t\t\t\t\t\t\t\t\t<li class=\"_membership-overview-value-help\">{`Es wurden bis zum Vertragsbeginn am ${startOfContractDate} einmalig ${daysBeforeStart} ${daysBeforeStartLabel} anteilig berechnet.`}</li>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{props.privacyPageUrl !== null && (\n\t\t\t\t\t<label class=\"_membership-privacy-confirm\">\n\t\t\t\t\t\t<input type=\"checkbox\" />\n\t\t\t\t\t\tIch bin mit den <a href={props.privacyPageUrl} target=\"_blank\" rel=\"noreferrer\">Datenschutzbestimmungen</a> einverstanden.\n\t\t\t\t\t\t{state.privacyConfirmMissing && (\n\t\t\t\t\t\t\t<span class=\"_membership-privacy-confirm-missing\">Sie müssen den Datenschutzbestimmungen zustimmen.</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</label>\n\t\t\t\t)}\n\t\t\t\t<div class=\"_membership-proceed\">\n\t\t\t\t\t<button type=\"button\" class=\"_membership-proceed-button\" onClick={() => this.onProceed(this.getMonthlyFee(totals))}>Zahlungspflichtigen Vertrag abschließen</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\n\t/**\n\t * Checks whether the privacy terms were accepted\n\t *\n\t * @param {string} startOfContractDate\n\t * @param {number} monthlyFee\n\t */\n\tonProceed (monthlyFee)\n\t{\n\t\t/** @type {OverviewStepContent.Props} props */\n\t\tconst props = this.props;\n\n\t\tconst $checkbox = $(this.base).find(\"._membership-privacy-confirm input:checkbox\");\n\n\t\tif ($checkbox.length > 0 && !$checkbox.prop(\"checked\"))\n\t\t{\n\t\t\tthis.setState({privacyConfirmMissing: true});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.setState({privacyConfirmMissing: false});\n\t\t\tprops.onProceed(monthlyFee);\n\t\t}\n\t}\n\n\n\t/**\n\t * Renders the selected options\n\t *\n\t * @private\n\t * @param {Membership.OptionsCategory[]} optionsCategories\n\t * @param {Object<number, Object<number, boolean>>} selectedOptions\n\t * @returns {JSX.Element[]}\n\t */\n\trenderOptions (optionsCategories, selectedOptions)\n\t{\n\t\tconst renderedCategories = [];\n\n\t\toptionsCategories.forEach(\n\t\t\tcategory =>\n\t\t\t{\n\t\t\t\tlet renderedOptions = [];\n\n\t\t\t\tcategory.options.forEach(\n\t\t\t\t\toption =>\n\t\t\t\t\t{\n\t\t\t\t\t\t// in a category with \"all selected\" every option is selected.\n\t\t\t\t\t\t// If it is a different selection method, check whether the user has selected the option\n\t\t\t\t\t\tlet isSelected = category.selectionMethod === SELECTION_ALL || (selectedOptions[category.id] !== undefined && selectedOptions[category.id][option.id] === true);\n\n\t\t\t\t\t\tif (isSelected)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst formattedPrice = formatPrice(option.price);\n\t\t\t\t\t\t\trenderedOptions.push(formattedPrice !== null\n\t\t\t\t\t\t\t\t? <li>{`${option.name} (${formattedPrice})`}</li>\n\t\t\t\t\t\t\t\t: <li>{option.name}</li>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tif (renderedOptions.length > 0)\n\t\t\t\t{\n\t\t\t\t\trenderedCategories.push(\n\t\t\t\t\t\t<div class=\"_membership-overview-section\">\n\t\t\t\t\t\t\t<div class=\"_membership-section-headline\">{category.headline}</div>\n\t\t\t\t\t\t\t<ul class=\"_membership-overview-values\">\n\t\t\t\t\t\t\t\t{renderedOptions}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\treturn renderedCategories;\n\t}\n\n\n\t/**\n\t * Calculates an approximate monthly fee\n\t *\n\t * @private\n\t * @param {OverviewStepContent.Totals} totals\n\t * @returns {number}\n\t */\n\tgetMonthlyFee (totals)\n\t{\n\t\tlet amount = 0;\n\n\t\ttotals.forEach(\n\t\t\tentry => {\n\t\t\t\tif (entry.interval > 0)\n\t\t\t\t{\n\t\t\t\t\tamount += entry.amount * (DAYS_PER_MONTH / entry.interval);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\treturn Math.round(amount);\n\t}\n\n\n\t/**\n\t *\n\t * @param {Membership.Contract} contract\n\t * @param {Membership.Runtime} selectedRuntime\n\t * @param {Object<number, Object<number>>} selectedOptions\n\t *\n\t * @returns {OverviewStepContent.Totals}\n\t */\n\tgetTotals (contract, selectedRuntime, selectedOptions)\n\t{\n\t\tconst totals = {\n\t\t\t[INTERVAL_ONCE]: 0,\n\t\t\t[EVERY_WEEK]: 0,\n\t\t\t[EVERY_2_WEEKS]: 0,\n\t\t\t[EVERY_4_WEEKS]: 0,\n\t\t\t[EVERY_MONTH]: 0,\n\t\t\t[EVERY_3_MONTHS]: 0,\n\t\t\t[EVERY_6_MONTHS]: 0,\n\t\t\t[EVERY_12_MONTHS]: 0,\n\t\t};\n\n\t\t// add runtime costs\n\t\ttotals[INTERVAL_ONCE] += selectedRuntime.entryFee;\n\t\ttotals[EVERY_MONTH] += selectedRuntime.recurringFee;\n\n\t\t// add\n\t\tcontract.optionsCategories.forEach(\n\t\t\tcategory =>\n\t\t\t{\n\t\t\t\tcategory.options.forEach(\n\t\t\t\t\toption =>\n\t\t\t\t\t{\n\t\t\t\t\t\t// the option is selected, if either the category is a \"select all\" category or the user has selected the option\n\t\t\t\t\t\tlet isSelected = (category.selectionMethod === SELECTION_ALL) || (selectedOptions[category.id] !== undefined && selectedOptions[category.id][option.id] === true);\n\n\t\t\t\t\t\t// only get elements that are selected and the option has a price\n\t\t\t\t\t\tif (isSelected && option.price !== null)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttotals[option.price.interval] += option.price.amount;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t);\n\n\t\t// transform return value\n\t\tlet returnValue = [];\n\t\tfor (const interval in totals)\n\t\t{\n\t\t\tif (!totals.hasOwnProperty(interval) || totals[interval] === 0)\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\treturnValue.push({\n\t\t\t\tinterval: parseInt(interval, 10),\n\t\t\t\tamount: totals[interval],\n\t\t\t});\n\t\t}\n\n\t\treturn returnValue;\n\t}\n\n\n\t/**\n\t * Returns the partial payment for the first month\n\t *\n\t * @private\n\t * @param {number} daysBeforeStart\n\t * @param {OverviewStepContent.Totals} totals\n\t * @returns {number}\n\t */\n\tgetPrePaymentAmount (daysBeforeStart, totals)\n\t{\n\t\tlet prePaymentAmount = 0;\n\n\t\ttotals.forEach(\n\t\t\tentry =>\n\t\t\t{\n\t\t\t\t// skip if the interval is not at least monthly\n\t\t\t\tif (entry.interval > 0)\n\t\t\t\t{\n\t\t\t\t\tprePaymentAmount += entry.amount * (daysBeforeStart / entry.interval);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\treturn Math.round(prePaymentAmount);\n\t}\n\n\n\t/**\n\t * Returns the selected runtime\n\t *\n\t * @param {Membership.Runtime[]} runtimes\n\t * @param {number} runtimeId\n\t * @returns {?Membership.Runtime}\n\t */\n\tgetSelectedRuntime (runtimes, runtimeId)\n\t{\n\t\tfor (let i = 0; i < runtimes.length; i++)\n\t\t{\n\t\t\tif (runtimes[i].id === runtimeId)\n\t\t\t{\n\t\t\t\treturn runtimes[i];\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\n\t/**\n\t * Builds the name from the form data\n\t *\n\t * @private\n\t * @param {Membership.FormData} formData\n\t * @returns {string}\n\t */\n\tbuildName (formData)\n\t{\n\t\tlet salutation = formData.salutation === \"m\" ? \"Herr\" : \"Frau\";\n\n\t\tswitch (formData.title)\n\t\t{\n\t\tcase \"dr\":\n\t\t\tsalutation += \" Dr.\";\n\t\t\tbreak;\n\n\t\tcase \"prof\":\n\t\t\tsalutation += \" Prof.\";\n\t\t\tbreak;\n\n\t\tcase \"prof_dr\":\n\t\t\tsalutation += \" Prof. Dr.\";\n\t\t\tbreak;\n\t\t}\n\n\t\treturn `${salutation} ${formData.firstName} ${formData.lastName}`;\n\t}\n}\n","import{options as n}from\"preact\";var t,u,r,o=0,i=[],c=n.__b,f=n.__r,e=n.diffed,a=n.__c,v=n.unmount;function l(t,r){n.__h&&n.__h(u,t,o||r),o=0;var i=u.__H||(u.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({}),i.__[t]}function m(n){return o=1,p(w,n)}function p(n,r,o){var i=l(t++,2);return i.t=n,i.__c||(i.__=[o?o(r):w(void 0,r),function(n){var t=i.t(i.__[0],n);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}],i.__c=u),i.__}function y(r,o){var i=l(t++,3);!n.__s&&k(i.__H,o)&&(i.__=r,i.__H=o,u.__H.__h.push(i))}function d(r,o){var i=l(t++,4);!n.__s&&k(i.__H,o)&&(i.__=r,i.__H=o,u.__h.push(i))}function h(n){return o=5,_(function(){return{current:n}},[])}function s(n,t,u){o=6,d(function(){return\"function\"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==u?u:u.concat(n))}function _(n,u){var r=l(t++,7);return k(r.__H,u)&&(r.__=n(),r.__H=u,r.__h=n),r.__}function A(n,t){return o=8,_(function(){return n},t)}function F(n){var r=u.context[n.__c],o=l(t++,9);return o.c=n,r?(null==o.__&&(o.__=!0,r.sub(u)),r.props.value):n.__}function T(t,u){n.useDebugValue&&n.useDebugValue(u?u(t):t)}function q(n){var r=l(t++,10),o=m();return r.__=n,u.componentDidCatch||(u.componentDidCatch=function(n){r.__&&r.__(n),o[1](n)}),[o[0],function(){o[1](void 0)}]}function x(){for(var t;t=i.shift();)if(t.__P)try{t.__H.__h.forEach(g),t.__H.__h.forEach(j),t.__H.__h=[]}catch(u){t.__H.__h=[],n.__e(u,t.__v)}}n.__b=function(n){u=null,c&&c(n)},n.__r=function(n){f&&f(n),t=0;var r=(u=n.__c).__H;r&&(r.__h.forEach(g),r.__h.forEach(j),r.__h=[])},n.diffed=function(t){e&&e(t);var o=t.__c;o&&o.__H&&o.__H.__h.length&&(1!==i.push(o)&&r===n.requestAnimationFrame||((r=n.requestAnimationFrame)||function(n){var t,u=function(){clearTimeout(r),b&&cancelAnimationFrame(t),setTimeout(n)},r=setTimeout(u,100);b&&(t=requestAnimationFrame(u))})(x)),u=null},n.__c=function(t,u){u.some(function(t){try{t.__h.forEach(g),t.__h=t.__h.filter(function(n){return!n.__||j(n)})}catch(r){u.some(function(n){n.__h&&(n.__h=[])}),u=[],n.__e(r,t.__v)}}),a&&a(t,u)},n.unmount=function(t){v&&v(t);var u,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{g(n)}catch(n){u=n}}),u&&n.__e(u,r.__v))};var b=\"function\"==typeof requestAnimationFrame;function g(n){var t=u,r=n.__c;\"function\"==typeof r&&(n.__c=void 0,r()),u=t}function j(n){var t=u;n.__c=n.__(),u=t}function k(n,t){return!n||n.length!==t.length||t.some(function(t,u){return t!==n[u]})}function w(n,t){return\"function\"==typeof t?t(n):t}export{m as useState,p as useReducer,y as useEffect,d as useLayoutEffect,h as useRef,s as useImperativeHandle,_ as useMemo,A as useCallback,F as useContext,T as useDebugValue,q as useErrorBoundary};\n//# sourceMappingURL=hooks.module.js.map\n","import { createElement, render } from \"preact\";\nimport { find } from \"../dom/traverse\";\nimport { extend } from \"../extend\";\nimport { parseElementAsJson } from \"../json\";\nimport { createUnstyledElement } from \"../dom/manipulate\";\nexport function mountJsxAndWrap(selector, mountable, options) {\n    let elements = typeof selector === \"string\" ? find(selector) : selector;\n    elements.forEach(node => {\n        const parent = node.parentElement;\n        const componentContainer = createUnstyledElement(\"div\", {\n            class: \"component-container\",\n        });\n        if (null !== parent) {\n            parent.insertBefore(componentContainer, node.nextSibling);\n            componentContainer.appendChild(node);\n            doMountJsx(node, mountable, options);\n        }\n    });\n}\nexport function mountJsx(selector, mountable, options) {\n    let elements = typeof selector === \"string\" ? find(selector) : selector;\n    elements.forEach(node => {\n        doMountJsx(node, mountable, options);\n    });\n}\nexport function mountLazyJsx(selector, importer, options) {\n    let elements = typeof selector === \"string\" ? find(selector) : selector;\n    if (!elements.length) {\n        return;\n    }\n    importer().then(module => {\n        elements.forEach(element => {\n            doMountJsx(element, module.default, options);\n        });\n    }, error => console.error(`Mounting of component of path '${selector}' failed: ${error.message}`, error));\n}\nfunction doMountJsx(node, mountable, options) {\n    options = options || {};\n    let parent = node.parentElement;\n    let params = (options.params || {});\n    if (!parent) {\n        console.error(\"Can't mount on container without parent.\");\n        return;\n    }\n    if (!options.hydrate) {\n        params = extend(params, parseElementAsJson(node) || {});\n        parent.removeChild(node);\n    }\n    render(createElement(mountable, params), parent, options.hydrate ? node : undefined);\n}\nexport function mountClass(selector, mountable, options) {\n    let elements = typeof selector === \"string\" ? find(selector) : selector;\n    elements.forEach(node => {\n        doMountClass(node, mountable, options);\n    });\n}\nexport function mountLazyClass(selector, importer, options) {\n    let elements = typeof selector === \"string\" ? find(selector) : selector;\n    if (!elements.length) {\n        return;\n    }\n    importer().then(module => {\n        elements.forEach(element => {\n            doMountClass(element, module.default, options);\n        });\n    }, error => console.error(`Mounting of component of path '${selector}' failed: ${error.message}`, error));\n}\nfunction doMountClass(node, mountable, options) {\n    options = options || {};\n    const mounted = new mountable(node, ...(options.params || []));\n    mounted.init();\n}\nexport function mount(selector, mountable, options) {\n    let elements = typeof selector === \"string\" ? find(selector) : selector;\n    elements.forEach(node => {\n        doMountFunction(node, mountable, options);\n    });\n}\nexport function mountLazy(selector, importer, options) {\n    let elements = typeof selector === \"string\" ? find(selector) : selector;\n    if (!elements.length) {\n        return;\n    }\n    importer().then(module => {\n        elements.forEach(element => {\n            doMountFunction(element, module.default, options);\n        });\n    }, error => console.error(`Mounting of component of path '${selector}' failed: ${error.message}`, error));\n}\nfunction doMountFunction(node, mountable, options) {\n    options = options || {};\n    mountable(node, ...(options.params || []));\n}\nexport function mountDataContainer(selector, mountable, options) {\n    let elements = typeof selector === \"string\" ? find(selector) : selector;\n    elements.forEach(node => {\n        doMountDataContainerFunction(node, mountable, options);\n    });\n}\nexport function mountLazyDataContainer(selector, importer, options) {\n    let elements = typeof selector === \"string\" ? find(selector) : selector;\n    if (!elements.length) {\n        return;\n    }\n    importer().then(module => elements.forEach(element => doMountDataContainerFunction(element, module.default, options)), error => console.error(`Mounting of component of path '${selector}' failed: ${error.message}`, error));\n}\nfunction doMountDataContainerFunction(node, mountable, options) {\n    let parent = node.parentElement;\n    if (!parent) {\n        console.error(\"Can't mount on container without parent.\");\n        return;\n    }\n    options = options || {};\n    const params = (options.params || []);\n    const parsedMountableConfig = (parseElementAsJson(node) || {});\n    params.unshift(parsedMountableConfig);\n    parent.removeChild(node);\n    mountable(...params);\n}\n","import {mountJsx} from \"mojave/mount\";\nimport {Membership} from \"./membership/Membership\";\n\nmountJsx(\"._membership-data-container\", Membership);\n","import $ from \"jquery\";\nimport {Component, h} from \"preact\";\nimport {Loading} from \"./Loading\";\nimport {HorizontalNavigation} from \"./Navigation/HorizontalNavigation\";\nimport {Step} from \"./Step\";\nimport {OptionsStepContent} from \"./Step/OptionsStepContent\";\nimport {RuntimeStepContent} from \"./Step/RuntimeStepContent\";\nimport {SuccessStepContent} from \"./Step/SuccessStepContent\";\nimport {UserDataFormStepContent} from \"./Step/UserDataFormStepContent\";\nimport {OverviewStepContent} from \"./Step/OverviewStepContent\";\nimport {debounce} from \"mojave/timing\";\nimport {formatTechnicalDate, isNextMonth} from \"../lib/date\";\n\n\n/**\n * @typedef {{\n *      url: string,\n * }} Membership.Props\n *\n * @typedef {{\n *      step: number,\n *      selectedRuntime: ?number,\n *      selectedOptions: Object<number, Object<number, boolean>>,\n *      formData: Membership.FormData,\n *      resultStoring: boolean,\n *      isFinished: boolean,\n *      finalization: {\n *          isLoading: boolean,\n *          result: ?{status: string},\n *      },\n *      horizontalNavigationActive: boolean,\n * }} Membership.State\n *\n * @typedef {{\n *     status: string,\n *     error: ?string,\n *     data: ?Membership.Contract,\n *     privacyPageUrl: ?string,\n * }} Membership.APIResponse\n *\n * @typedef {{\n *     id: number,\n *     length: number,\n *     title: string,\n *     recurringFee: number,\n *     recurringDescription: (null|string),\n *     entryFee: number,\n *     entryDescription: (null|string),\n * }} Membership.Runtime\n *\n * @typedef {{\n *     id: number,\n *     headline: string,\n *     required: boolean,\n *     selectionMethod: number,\n *     options: Membership.Option[],\n * }} Membership.OptionsCategory\n *\n * @typedef {{\n *     id: number,\n *     name: string,\n *     description: ?string,\n *     price: ?{\n *         amount: number,\n *         interval: number,\n *     },\n * }} Membership.Option\n *\n * @typedef {{\n *      contractStart: string,\n *      salutation: string,\n *      title: ?string,\n *      lastName: string,\n *      firstName: string,\n *      birthday: string,\n *      street: string,\n *      areaCode: string,\n *      city: string,\n *      phone: ?string,\n *      mobile: string,\n *      email: string,\n *      iban: string,\n *      bic: string,\n *      accountHolder: string,\n *      presenteeActive: string,\n *      presenteeName: string,\n *      presenteeBirthday: string,\n *      presenteeEmail: string,\n *      presenteeStreet: string,\n *      presenteeAreaCode: string,\n *      presenteeCity: string,\n * }} Membership.FormData\n *\n *\n * @typedef {{\n *      runtimes: Membership.Runtime[],\n *      optionsCategories: Membership.OptionsCategory[],\n *      firstDay: string|null,\n *      client: {\n *          name: string,\n *          personalization: {\n *              configuratorRegards: ?string,\n *              websiteCss: ?string,\n *              websiteNavigationHorizontal: boolean,\n *          }\n *      },\n * }} Membership.Contract\n */\nexport class Membership extends Component\n{\n\t/**\n\t * @private\n\t * @type {?Membership.APIResponse}\n\t */\n\tdata = null;\n\n\n\t/**\n\t * @private\n\t * @constant\n\t * @type {number}\n\t */\n\tHORIZONTAL_NAVIGATION_MIN_WIDTH = 820;\n\n\n\t/**\n\t * @inheritDoc\n\t */\n\tconstructor (props)\n\t{\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tstep: 1,\n\t\t\tselectedRuntime: null,\n\t\t\tselectedOptions: {},\n\t\t\tformData: {},\n\t\t\tisFinished: false,\n\t\t\thorizontalNavigationActive: false,\n\t\t\tfinalization: {\n\t\t\t\tisLoading: false,\n\t\t\t\tresult: null,\n\t\t\t},\n\t\t};\n\t}\n\n\n\t/**\n\t * @inheritDoc\n\t */\n\tcomponentDidMount ()\n\t{\n\t\tthis.fetchData();\n\t}\n\n\n\t/**\n\t * Fetches the data of the configurator\n\t *\n\t * @private\n\t */\n\tfetchData ()\n\t{\n\t\t/** @type {Membership.Props} props */\n\t\tconst props = this.props;\n\n\t\t$.ajax(props.url, {\n\t\t\tmethod: \"get\",\n\t\t\tdataType: \"json\",\n\t\t})\n\t\t\t.done(\n\t\t\t\t/** @param {Membership.APIResponse} response */\n\t\t\t\tresponse =>\n\t\t\t\t{\n\t\t\t\t\t// set response + reset selection\n\t\t\t\t\tthis.data = response;\n\t\t\t\t\t/** @type {Membership.State} newState */\n\t\t\t\t\tconst newState = {};\n\n\t\t\t\t\tif (response.data != null)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst contract = response.data;\n\n\t\t\t\t\t\tif (contract.runtimes.length === 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.data.status = \"error\";\n\t\t\t\t\t\t\tthis.forceUpdate();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// calculate whether horizontal navigation is active\n\t\t\t\t\t\tnewState.horizontalNavigationActive = this.isHorizontalNavigationActive();\n\n\t\t\t\t\t\tif (newState.horizontalNavigationActive)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t$(window).on(\"resize\", debounce(() => this.onResize(), 250));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// automatically select the first runtime\n\t\t\t\t\t\tnewState.selectedRuntime = contract.runtimes[0].id;\n\n\t\t\t\t\t\t// append custom CSS\n\t\t\t\t\t\tif (null !== contract.client.personalization.websiteCss)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst style = document.createElement(\"style\");\n\t\t\t\t\t\t\tstyle.type = \"text/css\";\n\t\t\t\t\t\t\tstyle.media = \"screen\";\n\t\t\t\t\t\t\tstyle.textContent = contract.client.personalization.websiteCss;\n\t\t\t\t\t\t\tdocument.head.appendChild(style);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.setState(newState);\n\t\t\t\t}\n\t\t\t)\n\t\t\t.fail(\n\t\t\t\t() =>\n\t\t\t\t{\n\t\t\t\t\tthis.data = {\n\t\t\t\t\t\tstatus: \"error\",\n\t\t\t\t\t};\n\t\t\t\t\tthis.forceUpdate();\n\t\t\t\t}\n\t\t\t);\n\t}\n\n\n\t/**\n\t * @param {Membership.Props} props\n\t * @param {Membership.State} state\n\t * @returns {JSX.Element}\n\t */\n\trender (props, state)\n\t{\n\t\tif (null === this.data)\n\t\t{\n\t\t\treturn (\n\t\t\t\t<div class=\"_membership\">\n\t\t\t\t\t<Loading/>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\t// the request failed due to any reason - just remove the widget\n\t\tif (this.data.status === \"error\")\n\t\t{\n\t\t\treturn null;\n\t\t}\n\n\t\tconst steps = this.getAvailableSteps();\n\n\t\treturn (\n\t\t\t<div class=\"_membership\">\n\t\t\t\t{state.horizontalNavigationActive && (\n\t\t\t\t\t<HorizontalNavigation\n\t\t\t\t\t\tsteps={steps.map(step => step.headline)}\n\t\t\t\t\t\tactiveStep={state.step}\n\t\t\t\t\t\tisDeactivated={state.isFinished}\n\t\t\t\t\t\tonDirectSelect={step => this.goToStep(step)}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t{this.renderSteps(steps)}\n\t\t\t</div>\n\t\t);\n\t}\n\n\n\t/**\n\t * Returns a list of all available states\n\t *\n\t * @private\n\t * @returns {Array<{headline : string, content : JSX.Element}>}\n\t */\n\tgetAvailableSteps ()\n\t{\n\t\t/** @type {Membership.State} state */\n\t\tconst state = this.state;\n\t\t/** @type {Membership.Contract} contract */\n\t\tconst contract = this.data.data;\n\t\t/** @type {Array<{headline: string, content: JSX.Element}>} */\n\t\tconst steps = [];\n\n\t\tsteps.push({\n\t\t\theadline: \"Auswahl\",\n\t\t\tcontent: (\n\t\t\t\t<RuntimeStepContent\n\t\t\t\t\truntimes={contract.runtimes}\n\t\t\t\t\tselected={state.selectedRuntime}\n\t\t\t\t\tonSelect={runtime => this.setState({selectedRuntime: runtime.id})}\n\t\t\t\t\tonProceed={() => this.proceed()}\n\t\t\t\t/>\n\t\t\t),\n\t\t});\n\n\t\tif (contract.optionsCategories.length > 0)\n\t\t{\n\t\t\tsteps.push({\n\t\t\t\theadline: \"Optionen\",\n\t\t\t\tcontent: (\n\t\t\t\t\t<OptionsStepContent\n\t\t\t\t\t\toptionsCategories={contract.optionsCategories}\n\t\t\t\t\t\tselected={state.selectedOptions}\n\t\t\t\t\t\tselectedRuntime={this.getSelectedRuntime()}\n\t\t\t\t\t\tonProceed={() => this.proceed()}\n\t\t\t\t\t\tonSelectOption={(categoryId, selection) => this.updateOptionsSelection(categoryId, selection)}\n\t\t\t\t\t/>\n\t\t\t\t),\n\t\t\t});\n\t\t}\n\n\t\tsteps.push({\n\t\t\theadline: \"Angaben\",\n\t\t\tcontent: (\n\t\t\t\t<UserDataFormStepContent\n\t\t\t\t\tonProceed={formData => this.proceed({formData})}\n\t\t\t\t\tfirstDay={contract.firstDay}\n\t\t\t\t/>\n\t\t\t),\n\t\t});\n\n\t\tsteps.push({\n\t\t\theadline: \"Bestätigung\",\n\t\t\tcontent: (\n\t\t\t\t<OverviewStepContent\n\t\t\t\t\tcontract={this.data.data}\n\t\t\t\t\tselectedRuntime={state.selectedRuntime}\n\t\t\t\t\tselectedOptions={state.selectedOptions}\n\t\t\t\t\tformData={state.formData}\n\t\t\t\t\tonProceed={(monthlyFee) => this.onRegistrationComplete(monthlyFee)}\n\t\t\t\t\tprivacyPageUrl={this.data.privacyPageUrl}\n\t\t\t\t\tfirstDay={this.data.data.firstDay}\n\t\t\t\t/>\n\t\t\t),\n\t\t});\n\n\t\tsteps.push({\n\t\t\theadline: \"Fertig\",\n\t\t\tcontent: (\n\t\t\t\t<SuccessStepContent\n\t\t\t\t\tcontract={this.data.data}\n\t\t\t\t\tfinalization={state.finalization}\n\t\t\t\t/>\n\t\t\t),\n\t\t});\n\n\t\treturn steps;\n\t}\n\n\n\t/**\n\t * Renders the step containers\n\t *\n\t * @private\n\t * @param {Array<{headline: string, content: JSX.Element}>} steps\n\t * @returns {JSX.Element[]}\n\t */\n\trenderSteps (steps)\n\t{\n\t\t/** @type {Membership.State} state */\n\t\tconst state = this.state;\n\n\t\treturn steps.map((step, index) =>\n\t\t{\n\t\t\tconst stepIndex = index + 1;\n\n\t\t\tconst onDirectSelect = (index >= steps.length - 1)\n\t\t\t\t? null\n\t\t\t\t: () => this.goToStep(stepIndex);\n\n\t\t\treturn (\n\t\t\t\t<Step\n\t\t\t\t\theadline={step.headline}\n\t\t\t\t\tstep={stepIndex}\n\t\t\t\t\tactiveStep={state.step}\n\t\t\t\t\tisHeadlineVisible={!state.horizontalNavigationActive}\n\t\t\t\t\tonDirectSelect={onDirectSelect}\n\t\t\t\t>\n\t\t\t\t\t{step.content}\n\t\t\t\t</Step>\n\t\t\t);\n\t\t});\n\t}\n\n\n\t/**\n\t * Updates the option selection\n\t *\n\t * @private\n\t * @param {number} categoryId\n\t * @param {Object<number, boolean>} selection\n\t */\n\tupdateOptionsSelection (categoryId, selection)\n\t{\n\t\tthis.setState(\n\t\t\t/**\n\t\t\t * @param {Membership.State} state\n\t\t\t * @returns {Membership.State}\n\t\t\t */\n\t\t\tstate =>\n\t\t\t{\n\t\t\t\tstate.selectedOptions[categoryId] = selection;\n\n\t\t\t\treturn {\n\t\t\t\t\tselectedOptions: state.selectedOptions,\n\t\t\t\t};\n\t\t\t}\n\t\t);\n\t}\n\n\n\t/**\n\t * Jumps to the given step\n\t *\n\t * @private\n\t * @param {number} step\n\t * @param {Object} additionalData\n\t */\n\tgoToStep (step, additionalData = {})\n\t{\n\t\tadditionalData.step = step;\n\t\tthis.setState(additionalData);\n\t}\n\n\n\t/**\n\t * Proceeds to the next step\n\t *\n\t * @private\n\t * @param {Object} additionalData\n\t */\n\tproceed (additionalData = {})\n\t{\n\t\t/** @type {Membership.State} state */\n\t\tconst state = this.state;\n\t\tthis.goToStep(state.step + 1, additionalData);\n\t}\n\n\n\t/**\n\t * Callback after the registration was completed by the user\n\t *\n\t * @private\n\t * @param {number} monthlyFee\n\t */\n\tonRegistrationComplete (monthlyFee)\n\t{\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\tisFinished: true,\n\t\t\t\tfinalization: {\n\t\t\t\t\tisLoading: true,\n\t\t\t\t\tresult: null,\n\t\t\t\t},\n\t\t\t\t// the steps are 1-indexed\n\t\t\t\tstep: this.getAvailableSteps().length,\n\t\t\t},\n\t\t\t() =>\n\t\t\t{\n\t\t\t\t/** @type {Membership.State} state */\n\t\t\t\tconst state = this.state;\n\n\t\t\t\t$.ajax(this.props.url, {\n\t\t\t\t\tmethod: \"post\",\n\t\t\t\t\tdataType: \"json\",\n\t\t\t\t\tdata: {\n\t\t\t\t\t\t// @deprecated\n\t\t\t\t\t\tstartDate: state.formData.contractStart,\n\t\t\t\t\t\tform: state.formData,\n\t\t\t\t\t\toptions: state.selectedOptions,\n\t\t\t\t\t\truntime: state.selectedRuntime,\n\t\t\t\t\t\tmonthlyFee: monthlyFee,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\t\t.done(data => this.onDataStorageResponse(data ? data.status : \"error\"))\n\t\t\t\t\t.fail(() => this.onDataStorageResponse(\"error\"))\n\t\t\t\t;\n\t\t\t}\n\t\t);\n\t}\n\n\n\t/**\n\t * Callback on when the data storage response arrived\n\t *\n\t * @param {string} status\n\t */\n\tonDataStorageResponse (status)\n\t{\n\t\tthis.setState({\n\t\t\tfinalization: {\n\t\t\t\tisLoading: false,\n\t\t\t\tresult: \"ok\" === status ? \"ok\" : \"error\",\n\t\t\t},\n\t\t});\n\t}\n\n\n\t/**\n\t * Decides, whether the horizontal navigation is active\n\t *\n\t * @private\n\t * @returns {boolean}\n\t */\n\tisHorizontalNavigationActive ()\n\t{\n\t\t// if the feature is deactivated, just return false\n\t\tif (!this.data.data.client.personalization.websiteNavigationHorizontal)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\t// only activate it, if the min width is set\n\t\treturn $(this.base).width() > this.HORIZONTAL_NAVIGATION_MIN_WIDTH;\n\t}\n\n\n\t/**\n\t * Callback on when the page resizes\n\t *\n\t * @private\n\t */\n\tonResize ()\n\t{\n\t\t/** @type {Membership.State} state */\n\t\tconst state = this.state;\n\n\t\tconst isVisible = this.isHorizontalNavigationActive();\n\n\t\tif (state.horizontalNavigationActive !== isVisible)\n\t\t{\n\t\t\tthis.setState({horizontalNavigationActive: isVisible});\n\t\t}\n\t}\n\n\n\t/**\n\t * @private\n\t * @returns {?Membership.Runtime}\n\t */\n\tgetSelectedRuntime ()\n\t{\n\t\tconst runtimes = this.data.data.runtimes;\n\t\t/** @type {Membership.State} state */\n\t\tconst state = this.state;\n\n\t\tfor (let i = 0; i < runtimes.length; i++)\n\t\t{\n\t\t\tif (runtimes[i].id === state.selectedRuntime)\n\t\t\t{\n\t\t\t\treturn runtimes[i];\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n}\n","import { useEffect, useState } from \"preact/hooks\";\nexport function debounce(func, delay = 80) {\n    let timeoutId;\n    return (...args) => {\n        const later = () => {\n            timeoutId = undefined;\n            func(...args);\n        };\n        window.clearTimeout(timeoutId);\n        timeoutId = window.setTimeout(later, delay);\n    };\n}\nexport function onNextAnimationFrame(run) {\n    let token = null;\n    return (...args) => {\n        if (!token) {\n            token = window.requestAnimationFrame(() => {\n                run(...args);\n                token = null;\n            });\n        }\n    };\n}\nexport function inNextFrame(callback) {\n    window.requestAnimationFrame(() => window.requestAnimationFrame(callback));\n}\nexport function useDebounced(value, delay, onSetCallback) {\n    const [debouncedValue, setDebouncedValue] = useState(value);\n    useEffect(() => {\n        const timer = window.setTimeout(() => {\n            setDebouncedValue(value);\n            if (onSetCallback) {\n                onSetCallback();\n            }\n        }, delay);\n        return () => window.clearTimeout(timer);\n    }, [value]);\n    return debouncedValue;\n}\n","import \"../polyfill/dom\";\nfunction elementMatches(element, selector = null) {\n    return (null === selector || element.matches(selector));\n}\nfunction fetchAllSiblings(element, selector, accessor) {\n    let indexableElement = element;\n    let sibling = indexableElement[accessor];\n    const list = [];\n    while (sibling) {\n        if (elementMatches(sibling, selector)) {\n            list.push(sibling);\n        }\n        sibling = sibling[accessor];\n    }\n    return list;\n}\nfunction fetchSingleSibling(element, selector, accessor) {\n    let indexableElement = element;\n    let sibling = indexableElement[accessor];\n    while (sibling) {\n        if (elementMatches(sibling, selector)) {\n            return sibling;\n        }\n        sibling = sibling[accessor];\n    }\n    return null;\n}\nexport function find(selector, context = document) {\n    return Array.prototype.slice.call(context.querySelectorAll(selector));\n}\nexport function findOne(selector, context = document) {\n    return context.querySelector(selector);\n}\nexport function filter(list, selector) {\n    return list.filter((e) => e.matches(selector));\n}\nexport function not(list, selector) {\n    if (typeof selector === \"string\") {\n        return list.filter((e) => !e.matches(selector));\n    }\n    else if (Array.isArray(selector)) {\n        return list.filter((e) => -1 !== selector.indexOf(e));\n    }\n    return list.filter((e) => e !== selector);\n}\nexport function children(parent, selector = null) {\n    const list = [];\n    let child = parent.firstElementChild;\n    while (child) {\n        if (elementMatches(child, selector)) {\n            list.push(child);\n        }\n        child = child.nextElementSibling;\n    }\n    return list;\n}\nexport function firstChild(parent, selector = null) {\n    let child = parent.firstElementChild;\n    while (child) {\n        if (elementMatches(child, selector)) {\n            return child;\n        }\n        child = child.nextElementSibling;\n    }\n    return null;\n}\nexport function prev(element, selector = null) {\n    return fetchSingleSibling(element, selector, \"previousElementSibling\");\n}\nexport function next(element, selector = null) {\n    return fetchSingleSibling(element, selector, \"nextElementSibling\");\n}\nexport function prevAll(element, selector = null) {\n    return fetchAllSiblings(element, selector, \"previousElementSibling\");\n}\nexport function nextAll(element, selector = null) {\n    return fetchAllSiblings(element, selector, \"nextElementSibling\");\n}\nexport function siblings(element, selector = null) {\n    const list = [];\n    let sibling = null;\n    if (null !== element.parentElement) {\n        sibling = element.parentElement.firstElementChild;\n    }\n    while (null !== sibling) {\n        if (sibling !== element && elementMatches(sibling, selector)) {\n            list.push(sibling);\n        }\n        sibling = sibling.nextElementSibling;\n    }\n    return list;\n}\nexport function closest(element, selector, rootElement = null) {\n    let parent = element.parentElement;\n    while (null !== parent && rootElement !== parent) {\n        if (parent.matches(selector)) {\n            return parent;\n        }\n        parent = parent.parentElement;\n    }\n    return null;\n}\nexport function isChildElement(parent, node) {\n    let pointer = node;\n    while (pointer !== null) {\n        if (pointer === parent) {\n            return true;\n        }\n        pointer = pointer.parentNode;\n    }\n    return false;\n}\n","import { hasOwnProperty } from \"./runtime\";\nimport { typeOf } from \"./types\";\nexport function merge(target, ...sources) {\n    if (0 === sources.length) {\n        return target;\n    }\n    if (1 < sources.length) {\n        let result = target;\n        for (let i = 0; i < sources.length; i++) {\n            result = merge(result, sources[i]);\n        }\n        return result;\n    }\n    const source = sources[0];\n    const sourceType = typeOf(source);\n    const targetType = typeOf(target);\n    if (sourceType === targetType || \"null\" === sourceType || \"null\" === targetType) {\n        if (\"array\" === targetType) {\n            return target.concat(source);\n        }\n        if (\"object\" === targetType) {\n            for (const key in source) {\n                target[key] = (target[key] !== undefined)\n                    ? merge(target[key], source[key])\n                    : source[key];\n            }\n            return target;\n        }\n        return source;\n    }\n    return target;\n}\nexport function extend(source, ...sources) {\n    const target = {};\n    sources.unshift(source);\n    for (let i = 0; i < sources.length; i++) {\n        let source = sources[i];\n        for (const key in source) {\n            if (hasOwnProperty(source, key)) {\n                target[key] = source[key];\n            }\n        }\n    }\n    return target;\n}\n","export function hasOwnProperty(value, property) {\n    return Object.prototype.hasOwnProperty.call(value, property);\n}\n"],"names":["n","l","u","t","o","r","e","c","s","a","h","parentNode","removeChild","v","i","f","arguments","length","children","call","defaultProps","y","type","props","key","ref","__k","__","__b","__e","__d","__c","__h","constructor","__v","vnode","d","_","this","context","k","indexOf","b","base","m","push","g","__r","debounceRendering","sort","some","__P","j","__n","ownerSVGElement","z","w","p","A","Array","isArray","x","P","N","M","appendChild","nextSibling","insertBefore","$","setProperty","test","H","style","cssText","replace","toLowerCase","slice","addEventListener","T","I","removeEventListener","setAttribute","removeAttribute","event","contextType","value","__E","prototype","render","O","sub","state","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","forEach","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","L","diffed","localName","nodeType","document","createTextNode","createElementNS","createElement","is","data","childNodes","dangerouslySetInnerHTML","attributes","name","__html","innerHTML","C","checked","current","unmount","componentWillUnmount","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","Promise","then","bind","resolve","setTimeout","Element","matches","elementPrototype","msMatchesSelector","webkitMatchesSelector","parseElementAsJson","element","content","trim","JSON","parse","console","error","message","safeParseJson","textContent","Loading","Component","ICON_CHECKBOX","class","width","height","viewBox","fill","ICON_CHEVRON","xmlns","ICON_CHECKBOX_CHECKED","ICON_RADIO","ICON_RADIO_CHECKED","ICON_CHECK","classes","args","list","entry","join","HorizontalNavigation","steps","map","label","index","renderButton","stepNr","isSelectable","isDeactivated","activeStep","icon","onClick","onDirectSelect","Step","$base","jQuery","$content","find","method","isActive","$scrollTarget","isHeadlineVisible","window","animate","scrollTop","step","onHeadlineClick","headline","_extends","formatAmount","amount","cents","Math","floor","formatPrice","price","interval","round","formatInterval","OptionsSelection","category","options","option","renderOption","id","selectedItems","selectionMethod","categoryId","widget","isSelected","selectable","optionProps","formattedPrice","onSelectOption","description","OptionsStepContent","optionsCategories","className","selectedRuntime","title","selected","onProceed","RuntimeDetails","super","runtime","isLastEntry","recurringFee","recurringDescription","entryFee","entryDescription","toggleDescription","descriptionsOpened","$elements","RuntimeStepContent","runtimes","isFirstEntry","onSelect","SuccessStepContent","finalization","isLoading","result","contract","client","personalization","configuratorRegards","href","location","isBeforeDate","date","otherDate","compareYear","compare","getFullYear","compareMonth","getMonth","getDate","compareDate","otherValue","formatDate","zeroFill","formatTechnicalDate","zerofill","number","padStart","isNextMonth","givenDate","today","Date","nextMonth","parseDate","setHours","parsed","VALIDATORS","match","exec","day","month","UserDataFormStepContent","FIELD_CONSTRAINTS","contractStart","salutation","lastName","firstName","street","city","phone","mobile","presenteeActive","presenteeName","presenteeStreet","presenteeCity","bic","accountHolder","accountInstitute","possibleStartDates","startDate","firstDay","firstMonth","generateStartMonths","parsedStartDate","getSelectionDateLabel","required","disabled","placeholder","on","$button","currentTarget","next","$input","prev","onProceedClick","removeValidationErrors","formData","validateForm","offset","top","hasError","optionalFieldsRequired","$optionalFieldsInput","prop","attr","each","$field","constraints","errorMessage","constraint","addError","INTERVAL_LABEL_PREFIXES","OverviewStepContent","privacyConfirmMissing","getSelectedRuntime","startOfContract","daysBeforeStart","totals","getTotals","selectedOptions","earlyStartAmount","hasEarlyStart","getPrePaymentAmount","buildName","areaCode","birthday","email","iban","renderOptions","startOfContractDate","daysBeforeStartLabel","privacyPageUrl","target","rel","$checkbox","undefined","renderedOptions","renderedCategories","hasOwnProperty","returnValue","prePaymentAmount","shift","__H","requestAnimationFrame","clearTimeout","cancelAnimationFrame","filter","selector","mountable","isFinished","horizontalNavigationActive","fetchData","ajax","url","dataType","done","response","status","newState","func","delay","timeoutId","debounce","onResize","getAvailableSteps","goToStep","renderSteps","proceed","monthlyFee","onRegistrationComplete","stepIndex","updateOptionsSelection","isHorizontalNavigationActive","HORIZONTAL_NAVIGATION_MIN_WIDTH","isVisible","querySelectorAll","node","parent","parentElement","params","hydrate","source","sources","unshift","property","Object","extend","firstChild","doMountJsx"],"mappings":"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"}